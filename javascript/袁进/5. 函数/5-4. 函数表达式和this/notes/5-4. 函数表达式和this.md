## 5-4. 函数表达式和this {ignore}

[toc]

### 前言

本节有一些代码示例，请见 codes 目录。

### 函数表达式

JS中，函数也是一个数据，语法上，函数可以用于任何需要数据的地方。JS中，函数是一等公民。函数是一个引用类型，将其赋值给某个变量时，变量中保存的是函数的地址。函数表达式的函数名可以省略，因为没有意义，没啥用。

- 函数表达式的值就是函数本身。

- 当函数成为一个表达式时，它既不会提升（函数声明会提升），也不会污染全局对象。

函数表达式的常见形式：

```js
// 赋值表达式中
const test = function () {
  // => 函数体
}
```

```js
// 小括号中
(function () {})
```

```js
// 对象的成员
const obj = {
  test: function () {},
}
```

```js
// 数组的成员
const arr = [
  function () {},
];
```


### IIFE

将函数变为一个函数表达式的方式之一，将函数用小括号括起来。然而，这样一来，函数就无法通过名称调用。由于大部分情况下，函数表达式的函数名没有实际意义，因此，可以省略函数名。

如果书写一个函数表达式，然后将立即调用，该函数称之为立即执行函数 IIFE（Imdiately Invoked Function Expression）。

```js
(function () {
  console.log('111');
})();
```

111 会立即输出。

### this关键字

在全局作用域中，this关键字始终指向全局对象。

在函数作用域中，取决于函数是如何被调用的：
- 函数直接调用，this指向全局对象
- 通过一个对象的属性调用，格式为 `对象.属性()` 或 `对象["属性"]()`，this指向对象。

注意: 无法给 this 赋值。

