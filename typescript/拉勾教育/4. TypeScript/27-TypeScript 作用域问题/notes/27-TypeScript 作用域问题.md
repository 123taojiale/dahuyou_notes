## 27-TypeScript 作用域问题

### 前言

- 时长：2min

### 全局作用域

当我们编写的 ts 文件没有使用模块化代码时，这些不同文件的 ts 代码默认都是丢到全局作用域中执行的。

若使用了模块化语句，比如 es6 module 的导出语句 `export {}`，该 ts 文件就会被识别为一个模块，模块有它单独的作用域，这样就不会污染全局了。

学习阶段，每个 ts 文件都加上 export {} 语句，防止变脸重名而报错。这是学习阶段的一个不得以做法，其实在实际开发中，我们的每一个文件，都是一个独立的模块，不需要担心变量重名的问题。

### codes

- [ ] 1.ts | 2.ts

```ts
let a;
/*
2.ts 的报错提示如下：
Cannot redeclare block-scoped variable 'a'.ts(2451)
1.ts(1, 5): 'a' was also declared here.
*/
```

我们在这两个 ts 文件中都声明一个名为 a 的变量，会发现报错了。

对于该问题，在模块化之前，通常会采用立即执行函数的方式来解决。

```ts
(function () {
  let a;
})()
```

下面采用将文件转换为模块的方式来解决。

```ts
// 2.ts
let a;
export {}
```

当我们给其中一个 ts 文件加入模块化语句时，就不会报错了。