## 1-2. JS 语言的问题 {ignore}

[toc]

### 前言

- 时长：26min

**课程内容概述**：本节课介绍的内容，主要是为了让我们了解到在使用 js 做开发时所带来的一些常见问题，而这些问题，js 自身没法解决。这正是为什么要学习 typescript 的原因。

### 问题

使用 js 开发时的一些常见问题：
- 使用了不存在的变量、函数或成员。
- 把一个不确定的类型当作一个确定的类型处理。
- 在使用 null 或 undefined 的成员。

**js的原罪**：js语言本身的特性，决定了该语言无法适应大型的复杂的项目。
- 弱类型：某个变量，可以随时更换类型。
- 解释性：错误发生的时间，是在运行时。

前端开发中，大部分的时间都是在排错。项目的规模越大，这些问题就越明显。但是，这些问题在其他语言，比如 Java 中，是不存在的，一旦我们犯了类似上述这样的错误，它就会提醒我们出错了，但是在 js 中，它就没法提醒我们发生了错误。由于 js 是弱类型，解释性的语言，所以，这些问题是 js 无法解决的。

### example

- [ ] 1.js

```js
function getUserName() {
  if (Math.random() < 0.5) {
    return "da hu you";
  }
  return 404;
}

let myname = getUsername();

mynema = myname.split(" ")
  .filter(it => it)
  .map(it => it[0].touppercase() + it.subStr(1))
  .join("");
```

上面这段代码，存在很多 bug。比如：
- 函数名写错 `getUsername`
- 变量名写错 `mynema`
- 使用了不存在的变量或成员 `it[0].touppercase()`
- 把一个不确定的类型当做一个确定的类型来处理 `let myname = getUsername();`
  函数 getUsername 的返回值，有可能是数字类型、字符串类型。这里这么写，就直接默认了它是一个字符串类型。但是若返回的是一个数字类型，那么就会报错。

这些问题，我们在开发时，多多少少都会遇到。但是，解决这些 bug，对于我们开发而言，并没有任何实质性的帮助，都是一些很低级的错误。我们希望的当这样的错误发生时，它能够提醒我们出错了，这样就能大大减少我们 debug 的时间，改善开发体验。下面我们要学习的 typescript 就是用于解决该问题的。