## 3-1. 类型约束和编译结果对比 {ignore}

[toc]

### 前言

- 时长：19min

### 类型约束

一般仅会对以下内容进行约束：
- **变量**
- **函数参数**
- 函数返回值

> 通常，我们只要对函数参数和变量进行约束即可。函数的返回值会根据我们对函数参数、变量的约束，自行推导（类型推导）出来。

Syntax：`:类型名称`

```ts
let nickName:string;
nickName = "xxx";
// nickName = 123; // => 会报错
```

```ts
function sum(a:number, b:number):number {
  return a + b;
}
```

类型推导：根据我们所写的代码，自动完成类型检查。

```ts
function sum(a:number, b:number) {
  return a + b;
}
/*
对于上面那种写法，我们可以省略到对函数返回值的类型约束。
因为，根据我们对参数 a、b 的约束，它们都是数字，返回的是它们相加的结果，必然也是一个数字。
ts 可以识别出返回值的类型必然是一个数字，所以我们可以省略对函数返回值的类型约束 => 类型推导。
*/
```

![20211109154810](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211109154810.png)

#### 补充

- F2：一次性重命名
- F12：快速跳转到函数的声明位置

![20211109155450](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211109155450.png)

- 判断是否有类型约束：在 vscode 编辑器中，看变量左下角是否有三个点。

![20211109160211](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211109160211.png)

> any 表示任意类型，对该类型，ts 不进行类型检查。

- 电话号码，应该是一个字符串类型还是数字类型？

![20211109160217](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211109160217.png)

```ts
let phone = "11122223333";
```

答：电话号码应该是一个字符串类型。判断的依据是看如何“读”。若读作：“一百一十一亿二千二百二十二万三千三百三十三”，那么就应该使用数字类型；若是一个数字一个数字的读，那么就应该使用字符串类型。同理：学号、工号，等等。都应该是字符串类型。


### 编译结果对比

执行命令 `tsc`，对比编译后生成的 js 文件和我们写的 ts 文件的差异：

![20211109161119](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211109161119.png)

会发现只有类型约束没了，其他的内容完全没变。