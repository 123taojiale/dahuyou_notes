## 3-5. 函数的相关约束 {ignore}

[toc]

### 前言

- 时长：15min

### 函数重载

函数重载：在函数实现之前，对函数调用的多种情况进行声明。不会生成到编辑结果中。

### 可选参数

可选参数：可以在某些参数名后加上问号，表示该参数可以不用传递。不会生成到编辑结果中。

**Attention**：可选参数必须在参数列表的末尾。

### codes

- [ ] 1.ts

```ts
function combine(a: number, b: number): number;
function combine(a: string, b: string): string;
function combine(a: number | string, b: number | string): number | string {
  if (typeof a === "number" && typeof b === "number") {
    return a * b;
  } else if (typeof a === "string" && typeof b === "string") {
    return a + b;
  }
  throw new Error("a 和 b 必须是相同的类型");
}

combine(1, 2); // => 2
combine("1", "2"); // => 12
// combine(1, '2');
```

![20211111170945](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211111170945.png)

当我们写了函数重载后，再去调用函数，就会有智能提示：

![20211111172030](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211111172030.png)

我们还可以给每个重载添加上注释，这样我们在调用函数的时候，我们写的相关注释内容，也会显示出来。

```ts
/**
 * 得到 a 和 b 相乘的结果
 * @param a
 * @param b
 */
function combine(a: number, b: number): number;
/**
 * 得到 a 和 b 拼接的结果
 * @param a
 * @param b
 */
function combine(a: string, b: string): string;
// ...
```

![20211111173112](https://cdn.jsdelivr.net/gh/123taojiale/dahuyou_picture@main/blogs/20211111173112.png)

- [ ] 2.ts

```ts
function sum(a: number, b: number, c?: number) {
  if (c) return a + b + c;
  return a + b;
}

sum(1, 2); // => 3
sum(1, 2, 3); // => 6
/*
可选参数，表示该参数可以不传递。
在冒号前面加上一个问号，表示该参数是可选的 ?:
c 就是可选参数，它可能是 undefined 或 number。
*/
```

- [ ] 3.ts

```ts
function sum_3(a: number, b: number, c: number = 3) {
  if (c) return a + b + c;
  return a + b;
}

sum_3(1, 2); // => 6
/*
默认参数，写法上和 es6 的默认参数写法相同。
默认参数表示当我们没有传递这个参数时，该参数的值是什么。由此可知，默认参数必然是可选的。
类型推断的结果：function sum_3(a: number, b: number, c?: number): number
从类型推断的结果中我们发现，c 被识别为一个可选参数。
*/
```

```ts
function test(a: number, b: number, c?: number) {}
function test(a: number, b?: number, c?: number) {}
function test(a?: number, b?: number, c?: number) {}
/*
因为我们在调用函数的时候，参数都是挨个传递的，不可能说我们传递了第二个参数，而没有传递第一个参数。
结论：
  可选参数可以有多个，但是一定要出现在末尾。
  若一个参数是可选的，那么后续参数必然也是可选的。
*/
```