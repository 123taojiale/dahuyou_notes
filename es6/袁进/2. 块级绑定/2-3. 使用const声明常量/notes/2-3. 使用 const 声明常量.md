## 2-3. 使用 const 声明常量 {ignore}

[toc]

### 前言

- 难度：1
- 重要性：5
- 时长：16min

### const

const 关键字是用来声明常量的，它的特点和 let 几乎完全相同，不同点仅在于用 **const 声明的变量，必须在声明时赋值，而且不可以重新赋值。**

实际上，在开发中，应该尽量使用 const 来声明变量，以保证变量的值不会随意篡改，原因如下：

- 根据经验，开发中的很多变量，都是不会更改，也不应该更改的。
- 后续的很多框架或者是第三方JS库，都要求数据不可变，使用常量可以一定程度上保证这一点。

**从现在开始，声明变量，优先使用 `const` 来声明，如果发现这个变量需要被重新赋值，那么再将该变量改为用 `let` 来声明，不再使用 `var` 来声明变量。**

### 细节问题

- 常量不可变：是指声明的**常量的内存空间不可变**。

若该常量是一个引用类型，那么，它对应的那块内存空间存放的内容就是一个引用值，即：地址。当我们改变内存空间中的地址时，那显然是会报错的。但是，若我们修改的是地址指向的那块内存中所存放的内容，那是允许的，因为原内存中所存放的内容并没有变。说简单点就是：**对象不可变，但对象身上的属性和方法可变。**

- 常量的命名

特殊的常量：该常量从字面意义上，一定是不可变的，比如圆周率（PI）、月地距地（MOON_EARTH_DISTANCE）或其他一些绝不可能变化的配置。通常，**该常量的名称全部使用大写，多个单词之间用下划线分割**。

普通的常量：使用和之前一样的命名即可，小驼峰式或下划线式都行，注意语义化即可。

> MOON_EARTH_DISTANCE 384,400 公里

- 循环

在循环中，循环变量不可以使用常量。

### codes

- [x] 1.js

```js
const obj = {
  a: 1,
  b: 2
};

obj.a = 3; // 不会报错，因为我们并没有改变 obj 的指向，obj 依旧指向原来的那块内存空间。
obj; // {a: 3, b: 2}

obj = 123; // TypeError: Assignment to constant variable.
/*
Assignment to .. => 给...赋值
constant variable => 常量
*/
```

- [x] 2.js

```js
/*
特殊常量命名规范
*/
const PI = 3.1415926535;
const MOON_EARTH_DISTANCE = 384400000;
```