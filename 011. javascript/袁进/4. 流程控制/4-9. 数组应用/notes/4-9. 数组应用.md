## 4-9. 数组应用 {ignore}

[toc]

### 前言

本节课要求完成 9 道作业题，完成这 9 道题还需要补充一些数组相关的知识点，在掌握这些知识点后，尝试独立完成作业题即可。

### 数组的本质是对象

```js
var arr1 = [3, 5, 7, 8, 2]; // arr1 中存放的是地址
var arr2 = arr1; // arr2 中存放的是地址
arr2[0] = 5;
arr1 === arr2; // => true
arr1[0], arr2[0]; // => 5 5
```

由于数组本质上就是一个对象，数组的变量名存放的是该引用类型的地址，在赋值时，赋的也就是地址，即：在这个案例中 arr1、arr2 指向的是同一块内存空间。



### 如何克隆一个数组（产生一个全新的对象）

```js
var arr1 = [3, 5, 7, 8, 2];
var arr2 = arr1.slice();
arr2[0] = 5;
console.log(arr1 === arr2); // false
console.log(arr1[0], arr2[0]); // 3 5
```

在这个案例中，arr2 是一个由 arr1 克隆而来的全新的数组，arr1、arr2 指向的内存空间不再是同一块了。



### 数组求和

```js
var arr = [3, 7, 6, 4, 5];
var sum = 0;
for (var i = 0; i < arr.length; i++) {
  sum += arr[i];
}
sum; // => 25
```

逻辑很简单，就是遍历数组的每一项，然后将每一项累加到一个变量中。



### 二维数组

```js
// 3*3的二维数组
var arr = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, 9]
];

// 输出二维数组的每一项
for (var i = 0; i < arr.length; i++) {
  for (var j = 0; j < arr[i].length; j++) {
    console.log(arr[i][j]);
  }
}

// 对二维数组求和
var sum = 0;
for (var i = 0; i < arr.length; i++) {
  for (var j = 0; j < arr[i].length; j++) {
    sum += arr[i][j];
  }
}
console.log(sum); // 45
```

二维数组：数组中的每一项是一个数组。

需要知道如何遍历一个二位数组。



### 将数组的每一项进行字符串拼接

```js
var arr = [3, 4, 6, 1, 3];

// 输出：3, 4, 6, 1, 3
var str = "";
for (var i = 0; i < arr.length; i++) {
  str += arr[i];
  if (i < arr.length ### 1) {
    str += ", ";
  }
}
str; // => "3, 4, 6, 1, 3"
```

使用 join 这个数组 api，可以更轻易地实现相同的效果。



### 数组.join(拼接的分隔符)

```js
var arr = [3, 4, 6, 1, 3];
var str = arr.join(", ");
str; // => "3, 4, 6, 1, 3"
```

`join()` 该函数返回一个字符串，按照我们指定的分隔符，对数组的每一项进行拼接。



### 数组1.concat(数组2)

```js
var arr1 = [34, 5, 2, 1];
var arr2 = ["abc", "bcd"];
var arr3 = arr1.concat(arr2);
arr1; // => (4) [34, 5, 2, 1]
arr2; // => (2) ["abc", "bcd"]
arr3; // => (6) [34, 5, 2, 1, "abc", "bcd"]
```

`数组1.concat(数组2)`，将 数组2 的所有元素拼接到数组1的末尾，产生一个新数组返回，该表达式不会对原数组造成任何影响。



### 作业

```
1. 提示用户输入数组的长度，以及数组每一项的值，然后输出该数组。
2. 初始化一个数字数组，然后求该数组所有项之和
3. 初始化一个数字数组，然后输出数组中所有的奇数
4. 初始化一个数字数组，然后输出数组中所有的素数
5. 斐波拉契数列是这样一种数列：1  1  2  3  5  8  13 ......
   数列前两位为1，第n位=第n-1位+第n-2位
   让用户输入斐波拉契数列的长度，在控制台中打印该长度的斐波拉契数列
6. 定义一个用户数组，数组的每一项是一个用户对象，用户对象中包含账号和密码，随意初始化一些对象放入数组中。然后提示用户输入账号和密码，判断是否登录成功
7. 初始化一个5*5的二维数组，数组每一项是一个数字，计算对角线之和
8. 初始化一个数字数组（数据随意），对该数组进行升序排序，然后输出结果
   思路提示：
      数组的排序有多种算法可以完成，这里介绍其中一种：冒泡排序算法
   冒泡排序算法的原理如下：
      ### 比较相邻的元素。如果第一个比第二个大，就交换他们两个。
      ### 对每一对相邻元素做同样的工作，从开始第一对到结尾的最后一对。在这一点，最后的元素应该会是最大的数。
      ### 针对所有的元素重复以上的步骤，除了已排好序的元素。
9. 有一个数组，存放了一些数字，找出出现频率最高的数字
```