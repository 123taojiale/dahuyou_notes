<!doctype html>
<html style='font-size:16px !important'>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<link rel="shortcut icon" href="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/favicon.ico" type="image/x-icon">
<style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit; background-repeat: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit; background-repeat: inherit; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print { 
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) { 
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) { 
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.428571429rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit; background-repeat: inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


/*Chinese*/
@font-face{
    font-family: 'HYZhengYuan';
    src: local('HYZhengYuan'),
    url('file:///Users/huyouda/Library/Application%20Support/abnerworks.Typora/themes/drake/HYZhengYuan-75W.ttf') format('truetype');
    font-display: swap;
    font-weight: bold;
    font-style: normal;
}/*
 * Copyright (C) 2018 Drake, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
 @import url();

 :root {
     --monospace: "JetBrains Mono", HYZhengYuan, "Fira Code", Menlo, "Ubuntu Mono", Consolas;
     /*code font*/
     --text-font: Consolas;
     /*default font*/
     --title-font: var(--monospace);
     /*title font*/

     --text-color: #304455;
     --bg-color: #ffffff;
     --control-text-color: var(--text-color);
     --meta-content-color: var(--text-color);
     --active-file-border-color: var(--drake-accent);
     --rawblock-edit-panel-bd: var(--code-block-bg-color);
     --item-hover-bg-color: #E5E5E596;
     --active-file-bg-color: var(--item-hover-bg-color);

     --blur-text-color: rgba(48, 68, 85, 0.5);
     --drake-accent: #31a062;
     --drake-highlight: #d63200;
     --a-color: var(--drake-accent);
     --variable-color: var(--drake-highlight);
     --outline-active-color: var(--a-color);
     --code-block-bg-color: #f8f8f8;
     --code-block-color: #525252;
     --title-color: #273849;
     --blockquote-border-color: #f66;
     --blockquote-color: var(--text-color);
     --blockquote-bg-color: #f8f8f8;
     --strong-color: var(--title-color);
     --h2-underline-color: var(--title-color);
     --horizontal-divider-color: var(--title-color);
     --height-light-color: var(--drake-highlight);
     --height-light-border-color: var(--drake-highlight);
     --yaml-color: #777777;
     --yaml-bg-color: #f7f7f7;
     --footnotes-bg-color: #3c3d3e;
     --footnotes-highlight: #FFD760;
     --table-border-color: #dfe2e5;
     --table-header-bg-color: #f8f8f8;
     --table-bg-color: var(--bg-color);
     --table-n2-bg-color: #f8f8f8;
     --input-bg-color: #f2f2f2;
     --btn-hover-bg-color: #f2f2f2;
     --checkbox-checked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M425.984 726.016l384-384-59.99-61.995-324.01 324.011-152.021-152.021L213.973 512zm384-598.016q36.01 0 61.013 25.984T896 213.974v596.01q0 34.005-25.003 59.99t-61.013 25.983h-596.01q-36.011 0-61.014-25.984t-25.003-59.989v-596.01q0-34.006 25.003-59.99T213.973 128h596.011z' fill='%2365b73b'/%3E%3C/svg%3E");
     --checkbox-unchecked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M810.667 213.333v597.334H213.333V213.333h597.334m0-85.333H213.333C166.4 128 128 166.4 128 213.333v597.334C128 857.6 166.4 896 213.333 896h597.334C857.6 896 896 857.6 896 810.667V213.333C896 166.4 857.6 128 810.667 128z' fill='%23333333'/%3E%3C/svg%3E");
 }

 html {
     font-size: 12px;
 }

 body {
     font-family: var(--text-font) !important;
     color: var(--text-color);
     -webkit-font-feature-settings: "liga"on, "calt"on;
     -webkit-font-smoothing: subpixel-antialiased;
     text-rendering: optimizeLegibility;
     letter-spacing: 0;
     margin: 0;
     overflow-x: hidden;
     line-height: 1.8rem;
 }

 /*code block*/
 .md-fences {
     font-size: 1rem;
     padding: 0.5rem !important;
     border-radius: 2px;
     word-wrap: normal;
     background-color: var(--code-block-bg-color);
     color: var(--code-block-color);
     border: none;
 }

 /*mermaid*/
 .md-diagram-panel-preview text.actor>tspan {
     /*方块文字*/
     fill: var(--code-block-color) !important;
     stroke: none !important;
     font-family: var(--text-font) !important;
     font-size: 1rem !important;
 }

 .md-diagram-panel-preview .actor {
     /*方块*/
     stroke: var(--table-border-color) !important;
     fill: var(--code-block-bg-color) !important;
 }

 .md-diagram-panel-preview .actor-line {
     /*竖线*/
     stroke: var(--text-color) !important;
     stroke-width: 1px;
 }

 .md-diagram-panel-preview .messageLine0 {
     /*横线*/
     stroke-width: 1.5;
     stroke-dasharray: none;
     stroke: var(--text-color) !important;
 }

 .md-diagram-panel-preview .messageLine1 {
     /*虚线*/
     stroke-width: 1.5 !important;
     stroke-dasharray: 2, 2 !important;
     stroke: var(--text-color) !important;
 }

 .md-diagram-panel-preview .messageText {
     /*描述文字*/
     fill: var(--text-color) !important;
     font-family: var(--text-font) !important;
     font-size: 1rem !important;
 }

 .md-diagram-panel-preview .activation0 {
     /*长方形*/
     fill: rgba(141, 141, 141, 0.22) !important;
     stroke: var(--text-color) !important;
 }

 .md-diagram-panel-preview .labelText,
 .md-diagram-panel-preview .labelText>tspan {
     /*循环标记*/
     fill: var(--code-block-color) !important;
     font-family: var(--text-font) !important;
     font-size: 1rem !important;
     dominant-baseline: unset;
     alignment-baseline: unset;
 }

 .md-diagram-panel-preview .labelBox {
     /*循环标记背景*/
     stroke: var(--table-border-color) !important;
     fill: var(--code-block-bg-color) !important;
 }

 .md-diagram-panel-preview .loopLine {
     /*循环标记虚线*/
     stroke: var(--text-color) !important;
 }

 .md-diagram-panel-preview .loopText,
 .md-diagram-panel-preview .loopText>tspan {
     /*循环名称*/
     fill: var(--text-color) !important;
     font-size: 1rem !important;
 }

 .md-diagram-panel-preview .sequenceNumber {
     /*序号*/
     fill: var(--bg-color) !important;
 }

 pre.md-fences-advanced.md-focus .md-fences-adv-panel {
     border: none;
 }

 /*code snippet*/
 #write code,
 tt {
     margin: 0 2px;
     color: var(--drake-highlight);
 }

 /*variable*/
 var {
     color: var(--variable-color);
     font-weight: bold;
 }

 /*raw block*/
 .md-rawblock-control:not(.md-rawblock-tooltip) {
     border-radius: 2px 0 2px 2px;
     padding: 0.2rem !important;
 }

 .md-rawblock:hover>.md-rawblock-container {
     background: none;
 }

 .md-rawblock-input {
     font-size: 1rem;
 }

 .md-rawblock-tooltip-btn:hover {
     background: none;
 }

 .md-rawblock:hover>.md-rawblock-tooltip {
     border-radius: 2px 2px 0 0;
     margin-bottom: 2px !important;
 }

 .md-rawblock-tooltip.md-rawblock-control {
     border-radius: 2px 2px 0 0;
     color: var(--code-block-color);
 }

 .md-rawblock-tooltip-name {
     color: var(--code-block-color);
     opacity: 1;
 }

 /*quote block*/
 blockquote:before {
     display: block;
     position: absolute;
     content: '';
     width: 4px;
     left: 0;
     top: 0;
     height: 100%;
     background-color: var(--blockquote-border-color);
     border-radius: 2px;
 }

 blockquote {
     color: var(--blockquote-color);
     border-radius: 2px;
     padding: 10px 16px;
     background-color: var(--blockquote-bg-color);
     position: relative;
     border-left: none;
 }

 #write strong {
     color: var(--strong-color);
     font-weight: bold;
 }

 #write blockquote strong {
     color: var(--blockquote-color);
 }

 /*link*/
 #write a {
     color: var(--a-color);
     text-decoration: none;
 }

 .on-focus-mode #write a .md-plain,
 .on-focus-mode .md-htmlblock-container a:hover {
     border-bottom: .1rem solid var(--blur-text-color);
 }

 #write a .md-plain,
 .md-htmlblock-container a:hover,
 .on-focus-mode #write .md-focus a .md-plain,
 .md-focus .md-htmlblock-container a:hover {
     border-bottom: .1rem solid var(--a-color);
 }

 /* 去掉下划线 */
 #write a .md-plain {
    border-bottom: none !important;
 }

 [md-inline=link] a {
     margin: 0 .2rem;
 }

 a:any-link {
     color: var(--a-color);
 }

 img {
     border-left: none;
     border-right: none;
     vertical-align: baseline;
     border-radius: 2px;
     /* 给 img 添加阴影 */
     box-shadow: 0px 20px 40px 1px rgba(0,0,0,.3);
     /* mac 下截取的图片，默认会带有一丢丢的圆角，加上一个圆角边框，去掉 4 个边角的背景。 */
     display: inline !important;
     border-radius: 15px;
 }

 #write {
     max-width: 1200px;
     margin: 0 auto;
     padding: 20px 30px 100px;
 }

 #typora-source .CodeMirror-lines {
     max-width: 1200px;
 }

 #write p {
     word-spacing: .05rem;
 }

 #write>ul:first-child,
 #write>ol:first-child {
     margin-top: 30px;
 }

 body>*:first-child {
     margin-top: 0 !important;
 }

 body>*:last-child {
     margin-bottom: 0 !important;
 }

 h1,
 h2,
 h3,
 h4,
 h5,
 h6 {
     font-family: var(--title-font);
     position: relative;
     margin-top: 2rem;
     margin-bottom: 1rem;
     font-weight: bold;
     cursor: text;
     color: var(--title-color);
 }

 h3.md-focus:before,
 h4.md-focus:before,
 h5.md-focus:before,
 h6.md-focus:before {
     visibility: hidden;
 }

 h1 {
     font-size: 2rem;
     text-align: center;
     margin-top: 0;
 }

 h2.md-end-block.md-heading {
     font-size: 1.6rem;
     display: inline-block;
 }

 h2.md-end-block.md-heading:after {
     display: block;
     content: '';
     height: 2px;
     margin-top: 4px;
     background-color: var(--h2-underline-color);
     border-radius: 2px;
 }

 .on-focus-mode h2.md-end-block.md-heading:not(.md-focus):not(.md-focus-container):after {
     background-color: var(--blur-text-color) !important;
 }

 h3 {
     font-size: 1.4rem;
 }

 h4 {
     font-size: 1.2rem;
 }

 h5 {
     font-size: 1rem;
 }

 h6 {
     font-size: 1rem;
 }

 h1:hover a.anchor,
 h2:hover a.anchor,
 h3:hover a.anchor,
 h4:hover a.anchor,
 h5:hover a.anchor,
 h6:hover a.anchor {
     text-decoration: none;
 }

 h1 tt,
 h1 code {
     font-size: inherit !important;
 }

 h2 tt,
 h2 code {
     font-size: inherit !important;
 }

 h3 tt,
 h3 code {
     font-size: inherit !important;
 }

 h4 tt,
 h4 code {
     font-size: inherit !important;
 }

 h5 tt,
 h5 code {
     font-size: inherit !important;
 }

 h6 tt,
 h6 code {
     font-size: inherit !important;
 }

 blockquote,
 ul,
 ol,
 dl,
 table {
     margin: 0.8em 0;
 }

 p {
     margin: 0;
 }

 li>ol,
 li>ul {
     margin: 0 0;
 }

 hr {
     height: 2px;
     padding: 0;
     margin: 16px 0;
     background-color: var(--horizontal-divider-color);
     border: 0 none;
     overflow: hidden;
     box-sizing: content-box;
 }

 body>h2:first-child {
     margin-top: 0;
     padding-top: 0;
 }

 body>h1:first-child {
     margin-top: 0;
     padding-top: 0;
 }

 body>h1:first-child+h2 {
     margin-top: 0;
     padding-top: 0;
 }

 body>h3:first-child,
 body>h4:first-child,
 body>h5:first-child,
 body>h6:first-child {
     margin-top: 0;
     padding-top: 0;
 }

 a:first-child h1,
 a:first-child h2,
 a:first-child h3,
 a:first-child h4,
 a:first-child h5,
 a:first-child h6 {
     margin-top: 0;
     padding-top: 0;
 }

 h1 p,
 h2 p,
 h3 p,
 h4 p,
 h5 p,
 h6 p {
     margin-top: 0;
 }

 li p.first {
     display: inline-block;
 }

 ul,
 ol {
     padding-inline-start: 2em;
 }

 ul:first-child,
 ol:first-child {
     margin-top: 0;
 }

 ul:last-child,
 ol:last-child {
     margin-bottom: 0;
 }

 table {
     padding: 0;
     word-break: initial;
     background-color: var(--table-bg-color);
 }

 table tr {
     border-top: .1em solid var(--table-border-color);
     margin: 0;
     padding: 0;
 }

 table th {
     font-weight: bold;
     border: .1em solid var(--table-border-color);
     border-bottom: 0;
     margin: 0;
     padding: 6px 13px;
 }

 table td {
     border: .1em solid var(--table-border-color);
     margin: 0;
     padding: 6px 13px;
 }

 table thead {
     background-color: var(--table-header-bg-color);
 }

 table tr:nth-child(2n) {
     background-color: var(--table-n2-bg-color);
 }

 table tr th:first-child,
 table tr td:first-child {
     margin-top: 0;
 }

 table tr th:last-child,
 table tr td:last-child {
     margin-bottom: 0;
 }

 #write em {
     padding: 0 5px 0 2px;
 }

 #write table thead th {
     background-color: var(--table-header-bg-color);
 }

 /* height light */
 #write mark {
     border: .1em solid var(--height-light-border-color);
     color: var(--height-light-color);
     background-color: transparent;
     padding: .1rem .5rem;
     border-radius: 2rem;
     margin: 0 .2rem;
     font-size: .95rem;
 }

 /*shortcut*/
 kbd {
     border: .1em solid #5b5b5e;
     background: transparent;
     color: var(--text-color);
     margin: 0 .4rem;
     font-size: .95rem;
     padding: .3em .4em;
     border-radius: .4em;
     vertical-align: top;
     box-shadow: .1em .1em .2em rgba(0, 0, 0, 0.3);
 }

 #write del {
     padding: 1px 2px;
 }

 .md-task-list-item>input {
     margin-left: -1.3em;
 }

 @media print {
     html {
         font-size: 12px;
     }

     table,
     pre {
         page-break-inside: avoid;
     }

     pre {
         word-wrap: break-word;
     }
 }

 /*YAML*/
 #write pre.md-meta-block {
     padding: 1rem;
     font-size: 1rem;
     background-color: var(--yaml-bg-color);
     border: 0;
     border-radius: 2px;
     color: var(--yaml-color);
     margin-top: 0 !important;
 }

 .mathjax-block>.code-tooltip {
     bottom: .375rem;
 }

 #write>h3.md-focus:before {
     left: -1.5625rem;
     top: .375rem;
 }

 #write>h4.md-focus:before {
     left: -1.5625rem;
     top: .285714286rem;
 }

 #write>h5.md-focus:before {
     left: -1.5625rem;
     top: .285714286rem;
 }

 #write>h6.md-focus:before {
     left: -1.5625rem;
     top: .285714286rem;
 }

 .md-image>.md-meta {
     border-radius: 2px;
     font-family: initial;
     padding: 2px 0 0 4px;
     color: inherit;
 }

 .md-tag {
     color: inherit;
 }

 .md-toc {
     margin-top: 20px;
     padding-bottom: 20px;
 }

 .typora-quick-open-item {
     font-size: 1rem !important;
     height: 50px;
     padding-left: 8px;
     padding-top: 4px;
     padding-bottom: 4px;
 }

 #typora-quick-open {
     box-shadow: 0 0 8px #00000045;
     padding: 0;
 }

 .ty-quick-open-category.ty-has-prev .ty-quick-open-category-title {
     border-top: none;
 }

 #typora-quick-open-input {
     margin: 8px;
     box-shadow: none;
     border-radius: 2px;
 }

 #typora-quick-open-input input {
     font-size: 1rem;
     box-shadow: none;
     padding-top: 2px;
     padding-left: 10px;
     padding-right: 10px;
     line-height: 32px;
     max-height: 32px;
     border: none;
 }

 .modal-dialog#typora-quick-open {
     border-radius: 8px;
 }

 .ty-quick-open-category-title {
     padding-left: 8px;
     color: #BEBEBE;
     font-size: 0.8rem;
     margin-bottom: 4px;
 }

 .typora-quick-open-item-path {
     font-size: 0.8rem;
     text-overflow: ellipsis;
     white-space: nowrap;
     margin-top: 1px;
 }

 /*search input*/
 .form-control {
     border: none;
     border-radius: 2px;
     box-shadow: none;
 }

 #md-searchpanel .btn {
     border-radius: 2px;
 }

 #search-panel-replaceall-btn {
     padding-right: 5px !important;
     text-align: center !important;
 }

 #search-panel-replace-btn {
     text-align: center !important;
 }

 #md-searchpanel input {
     background: var(--input-bg-color);
     border-radius: 2px;
 }

 .searchpanel-search-option-btn {
     border-radius: 2px;
     border: none;
     background: transparent;
     color: var(--text-color);
 }

 .searchpanel-search-option-btn.active {
     background: var(--text-color);
     color: var(--bg-color);
 }

 .form-control:focus {
     box-shadow: none;
 }

 #md-notification:before {
     top: 10px;
 }

 /** focus mode */
 .on-focus-mode blockquote {
     border-left-color: rgba(85, 85, 85, 0.12);
 }

 header,
 .context-menu,
 .megamenu-content,
 footer {
     font-family: initial;
 }

 /*sidebar*/
 .file-node-content:hover .file-node-icon,
 .file-node-content:hover .file-node-open-state {
     visibility: visible;
 }

 #typora-sidebar {
     /* 左侧的导航，字体有点偏大了。 */
     /* font-size: 1.1rem; */
 }

 .sidebar-tabs {
     border-bottom: none;
 }

 .file-list-item-summary,
 .file-list-item-parent-loc,
 .file-list-item-time,
 .file-list-item-summary {
     font-size: 0.9rem !important;
     font-family: var(--text-font);
 }

 .file-list-item-file-ext-part {
     display: none;
 }

 .outline-item {
     font-size: 1rem;
 }

 /*footnotes mark*/
 #write .md-footnote {
     background-color: inherit;
     color: var(--drake-highlight);
     font-size: 0.9rem;
     border-radius: 0.9rem;
     padding-left: 0;
 }

 #write .md-footnote:before {
     content: "[";
 }

 #write .md-footnote:after {
     content: "]";
 }

 /*footnotes content*/
 .md-hover-tip .code-tooltip-content {
     border-radius: 2px;
 }

 /*footnotes title*/
 span.md-def-name {
     padding-right: 3ch;
     padding-left: 0;
     position: relative;
     font-weight: normal;
 }

 /*footnotes desc*/
 .footnotes {
     font-size: 1rem;
     font-weight: normal;
     color: var(--text-color);
     position: relative;
 }

 /*footnotes tooltip text*/
 .code-tooltip-content .md-plain {
     font-size: 0.9rem;
     font-family: inherit;
 }

 .code-tooltip-content code {
     padding: 0 2px;
     font-family: inherit;
     color: var(--footnotes-highlight);
     background-color: inherit;
 }

 .code-tooltip-content a {
     color: var(--footnotes-highlight);
 }

 div.code-tooltip-content {
     box-shadow: 0 0 8px #00000045;
     background: var(--footnotes-bg-color);
 }

 .footnotes {
     opacity: 1;
 }

 .md-def-name:after {
     content: ". ^";
     color: var(--text-color);
 }

 .md-def-footnote .md-def-name:before {
     content: "";
     color: var(--text-color);
     position: absolute;
 }

 .md-def-name:before {
     content: "";
     color: var(--text-color);
     position: absolute;
 }

 .md-content.md-url,
 .md-def-content.md-def-url.md-auto-disp {
     text-decoration: none;
     border-bottom: .1rem solid var(--text-color);
 }

 .CodeMirror-scroll::-webkit-scrollbar {
     display: none;
 }

 .file-list-item-summary {
     font-size: 1em;
 }

 .pin-outline #outline-content .outline-active strong,
 .pin-outline .outline-active {
     font-weight: 500;
     color: var(--outline-active-color);
 }

 .file-list-item.active {
     border-left: 4px solid var(--drake-accent);
 }

 #md-searchpanel .btn:not(.close-btn):hover {
     box-shadow: none;
     background: var(--btn-hover-bg-color);
 }

 /*checkbox*/
 #write input[type=checkbox] {
     opacity: 0;
     height: 1.6rem;
     width: 1.6rem;
     margin-left: -2em;
     margin-top: 0;
     top: 0;
 }

 /* #write .ul-list li.md-task-list-item.task-list-done::before {
     content: "";
     background: var(--checkbox-checked) 0 0 no-repeat;
     background-size: 100%;
     display: inline-block;
     position: absolute;
     height: 1.6rem;
     width: 1.6rem;
     margin-left: -2em;
 } */

 #write ul li.md-task-list-item.task-list-done::before {
    content: "";
    background: var(--checkbox-checked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}

 #write ul li.md-task-list-item.task-list-not-done::before {
     content: "";
     background: var(--checkbox-unchecked) 0 0 no-repeat;
     background-size: 100%;
     display: inline-block;
     position: absolute;
     height: 1.6rem;
     width: 1.6rem;
     margin-left: -2em;
 }

 /*insert table*/
 .btn {
     border-radius: 2px;
 }

 .modal-content {
     border-radius: 8px;
 }

 .btn-primary:hover,
 .btn-primary:active {
     background-color: var(--btn-hover-bg-color);
     color: var(--drake-highlight);
 }

 .btn-primary {
     background-color: transparent;
     color: var(--drake-highlight);
 }

 .btn-default {
     background-color: transparent;
 }

 .btn:active {
     box-shadow: none;
     border-color: transparent;
 }

 .modal-footer {
     border-top: none;
 }

 #table-insert-col,
 #table-insert-row {
     background: var(--input-bg-color);
     border-radius: 2px;
 }

 /*preference panel*/
 #megamenu-content {
     background-image: none !important;
     background-color: var(--bg-color);
 }

 #top-titlebar {
     height: inherit;
     background-color: var(--bg-color);
 }

 #megamenu-menu-sidebar {
     background-color: var(--bg-color);
     color: var(--text-color);
 }

 .long-btn {
     width: inherit;
     min-width: 300px;
     border: 1px solid var(--text-color);
     border-radius: 6px;
 }

 .megamenu-menu-panel h1 {
     margin-bottom: 3rem;
     text-align: left;
 }

 .megamenu-menu-panel h1,
 .megamenu-menu-panel h2 {
     font-weight: normal;
 }

 #recent-file-panel-search-input {
     height: 45px;
     border: none;
     border-bottom: 1px solid var(--text-color);
     padding-left: 8px;
 }

 #recent-file-panel-search-input::placeholder {
     color: var(--text-color);
     opacity: .5;
 }

 .megamenu-menu-header {
     border-bottom: none;
 }

 #recent-file-panel-action-btn {
     background: none;
     border: none;
 }

 #recent-file-panel-action-btn-container {
     float: none;
     display: inline-block;
 }

 #top-titlebar .toolbar-icon.btn.hover,
 #top-titlebar .toolbar-icon.btn:hover {
     background-color: var(--btn-hover-bg-color);
     color: var(--text-color);
 }

 .megamenu-menu-panel .btn:hover {
     background-color: var(--btn-hover-bg-color) !important;
     color: var(--text-color);
 }

 #recent-file-panel tbody tr:nth-child(2n-1),
 .megamenu-menu-panel table thead,
 .megamenu-menu-panel table tr {
     background-color: transparent;
 }

 .megamenu-menu-panel table {
     font-weight: normal;
 }

 #megamenu-back-btn {
     color: var(--text-color);
     border: 1px solid var(--text-color);
 }

 .megamenu-menu-header #megamenu-menu-header-title {
     color: var(--text-color);
 }

 header,
 .context-menu,
 .megamenu-content,
 footer {
     font-family: var(--text-font);
 }

 .ty-preferences select {
     padding-left: 2px;
 }

 .preference-item-hint {
     font-size: 14px;
 }

 a.ty-link {
     color: var(--a-color);
     margin: 0 .2rem;
 }

 /**
     code render
     Name: IntelliJ IDEA light theme
     From IntelliJ IDEA by JetBrains
  */
 .cm-s-inner span.cm-number {
     color: #a32eff;
 }

 .cm-s-inner span.cm-atom {
     color: #a32eff;
 }

 .cm-s-inner span.cm-def {
     color: var(--code-block-color);
 }

 .cm-s-inner span.cm-variable {
     color: var(--code-block-color);
 }

 .cm-s-inner span.cm-variable-2 {
     color: #00627A;
 }

 .cm-s-inner span.cm-variable-3,
 .cm-s-inner span.cm-type {
     color: #00627A;
 }

 .cm-s-inner span.cm-property {
     color: var(--code-block-color);
 }

 .cm-s-inner span.cm-keyword {
     color: #d63200;
 }

 .cm-s-inner span.cm-operator {
     color: var(--code-block-color);
 }

 .cm-s-inner span.cm-comment {
     color: #787878;
 }

 .cm-s-inner span.cm-string {
     color: #31a062;
 }

 .cm-s-inner span.cm-string-2 {
     color: #31a062;
 }

 .cm-s-inner span.cm-qualifier {
     color: var(--code-block-color);
 }

 .cm-s-inner span.cm-error {
     color: red;
 }

 .cm-s-inner span.cm-attribute {
     color: #2973b7;
 }

 .cm-s-inner span.cm-tag {
     color: #2973b7;
 }

 .cm-s-inner span.cm-link {
     color: #4A86E8;
 }

 .cm-s-inner span.cm-builtin {
     color: var(--code-block-color);
 }

 .cm-s-inner span.cm-bracket {
     color: #2973b7;
 }

 .cm-s-inner .CodeMirror-gutters {
     border-right: 1px solid rgba(120, 120, 120, 0.3);
 }

 .cm-s-inner .CodeMirror-linenumber {
     color: #787878;
 }

 /* 侧边目录 */
 .typora-export-sidebar .outline-content {
     width: 240px !important;
     overflow: auto !important;
 }

 @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}
</style><title>太极创客物联网教程</title>
</head>
<body class='typora-export typora-export-show-outline typora-export-collapse-outline'><div class='typora-export-content'>
<div class="typora-export-sidebar"><div class="outline-content"><li class="outline-item-wrapper outline-h1 outline-item-open"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#太极创客-物联网入门教程">太极创客 物联网入门教程</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#前言">前言</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#0-1-序言">0-1 序言</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#教程基本介绍">教程基本介绍</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#教程预备知识">教程预备知识</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#教程使用硬件">教程使用硬件</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#什么是物联网">什么是物联网</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#物联网的重要意义">物联网的重要意义</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#物联网设备主要特点">物联网设备主要特点</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#物联网的应用领域">物联网的应用领域</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#物联网的发展前景">物联网的发展前景</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#1-1-开发板详解">1-1-开发板详解</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#esp8266-和-nodemcu">ESP8266 和 NodeMCU</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#数字输入输出引脚gpio）">数字输入输出引脚（GPIO）</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#gpio-编号与-nodemcu-开发板引脚名的区别">GPIO 编号与 NodeMCU 开发板引脚名的区别</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#esp8266-gpio-编号与-nodemcu-开发板引脚名的对应关系">ESP8266 GPIO 编号与 NodeMCU 开发板引脚名的对应关系</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#可用引脚">可用引脚</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#电压电流限制">电压电流限制</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#特殊引脚情况说明">特殊引脚情况说明</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#上拉电阻下拉电阻">上拉电阻/下拉电阻</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#模拟输入">模拟输入</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#通讯">通讯</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#esp8266引脚功能一览">ESP8266引脚功能一览</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#2-1-互联网基础-1">2-1 互联网基础-1</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#互联网协议">互联网协议</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#wifi">WiFi</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#接入点模式">接入点模式</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#无线终端模式">无线终端模式</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#混合模式">混合模式</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ip-协议">IP 协议</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#核心概念">核心概念</a></div><ul class="outline-children"></ul></li></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#2-2-互联网基础-2">2-2 互联网基础-2</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#tcp">TCP</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#udp">UDP</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#http">HTTP</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#概念">概念</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#请求">请求</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#响应">响应</a></div><ul class="outline-children"></ul></li></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-1-esp8266-物联网开发基础">3-1 ESP8266 物联网开发基础</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#安装-esp8266-nodemcu开发板驱动">安装 ESP8266-NodeMCU开发板驱动</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#为esp8266-nodemcu搭建arduino-ide开发环境">为ESP8266-NodeMCU搭建Arduino IDE开发环境</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#nodemcu开发板的接入点模式">NodeMCU开发板的接入点模式</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#nodemcu开发板的无线终端模式">NodeMCU开发板的无线终端模式</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-2-esp8266-网络服务器">3-2 ESP8266 网络服务器</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-3-esp8266-闪存文件系统">3-3 ESP8266 闪存文件系统</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-4-esp8266-闪存文件应用">3-4 ESP8266 闪存文件应用</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-5-闪存文件系统网络服务示例">3-5 闪存文件系统网络服务示例</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-6-esp8266-网络客户端基本操作-1">3-6 ESP8266 网络客户端基本操作-1</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-7-esp8266-网络客户端基本操作-2">3-7 ESP8266 网络客户端基本操作-2</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-8-stream">3-8-Stream</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-9-esp8266-http通讯">3-9-ESP8266-HTTP通讯</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-10-json-基础">3-10-JSON 基础</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-11-esp8266-json-解析">3-11-ESP8266-JSON-解析</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-12-esp8266-json-数据通讯-1">3-12-ESP8266-JSON 数据通讯-1</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-13-esp8266-json-数据通讯-2">3-13-ESP8266-JSON 数据通讯-2</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-14-esp8266-json-数据通讯-3">3-14-ESP8266-JSON 数据通讯-3</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-15-esp8266-http-api-应用-1">3-15-ESP8266 HTTP API 应用-1</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#3-16-esp8266-http-api-应用-2">3-16-ESP8266 HTTP API 应用-2</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#用-wifimanager-库配网">用 WiFiManager 库配网</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#esp8266-多任务处理">ESP8266 多任务处理</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#esp8266-ota">ESP8266 OTA</a></div><ul class="outline-children"></ul></li></ul></li></div></div><div id='write'  class=''><h1 id='太极创客-物联网入门教程'><span>太极创客 物联网入门教程</span></h1><h2 id='前言'><span>前言</span></h2><p><span>记录该笔记的目的：笔者是物联网专业的，现大四，要做毕设，由于基础知识薄弱，就来学习学习，为接下来的毕设做准备。</span></p><p>&nbsp;</p><p><strong><span>教程链接</span></strong></p><ul><li><a href='https://www.bilibili.com/video/av90838317'><span>B站 -【ESP8266教程】零基础入门学用物联网-基础知识篇（太极创客团队）</span></a></li><li><a href='http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/'><span>零基础入门学用物联网 – 基础知识篇 – 目录</span></a></li></ul><p>&nbsp;</p><h2 id='0-1-序言'><span>0-1 序言</span></h2><ul><li><span>视频时长：14:23</span></li></ul><h3 id='教程基本介绍'><span>教程基本介绍</span></h3><ul><li><span>学习物联网开发的软硬件知识</span></li><li><span>通过实际动手搭建实用物联网项目，将物联网知识学以致用</span></li><li><span>通过太极创客网站免费开放所有教程和制作项目的软硬件资源</span></li></ul><h3 id='教程预备知识'><span>教程预备知识</span></h3><ul><li><span>微控制器的基础知识</span></li><li><span>Arduino 开发基本操作</span></li><li><span>电路基础</span></li><li><span>C 语言开发基本知识</span></li></ul><blockquote><p><span>我们开发时使用的环境为 Arduino 开发环境，并不是说我们使用的开发版就是 Arduino 开发板。</span></p></blockquote><h3 id='教程使用硬件'><span>教程使用硬件</span></h3><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212114751877.png" alt="image-20211212114751877" style="zoom:50%;" /></p><ul><li><span>适合初学者开发和学习使用</span></li><li><span>可使用 Arduino 开发环境</span></li><li><span>开源资源十分丰富</span></li><li><span>适用多种开发环境（C、C++、MicroPython、Lua）</span></li><li><span>性能稳定、价格亲民</span></li></ul><blockquote><p><span>MicroPython 是 Python 语言的一个分支。</span></p></blockquote><h3 id='什么是物联网'><span>什么是物联网</span></h3><p><span>物联网的英文名称是Internet of Things。IoT则是Internet of Things的缩写。因此, 物联网 = IoT。</span></p><blockquote><p><code>物联网 &lt;-&gt; IOT &lt;-&gt; Internet Of Things &lt;-&gt; 万物互联的互联网</code></p></blockquote><p>&nbsp;</p><p><span>通俗地说，物联网是互联网的一种拓展。我们知道互联网是由无数的计算机和智能手机交错连接而编织成的一张网。而正是有了像 NodeMCU/ESP8266 这样的物联网模块，</span><strong><span>让以前不能上网的设备也可以连网</span></strong><span>。有了这些新联网成员的互联网也就不再是单纯的互联网，而被称作物联网。因此，物联网是互联网延伸到更多的设备以后所形成的网络。因此，物联网使用的就是我们每天都在使用的互联网。</span></p><p>&nbsp;</p><p><span>我们用一台空调来举例。假设您通过太极创客网站的物联网教程掌握了如何用 NodeMCU 开发板实时地将空调开关情况，温度设置等信息不断上传到互联网中，同时您也可以使用手机等移动终端通过互联网对空调发送调节温度或是开关空调的指令。到这里，我们的空调就不再是一个简单的空调而是一个具有物联网功能的空调了。而我们的互联网也因为有了可联网的空调设备而成为了物联网。</span></p><p>&nbsp;</p><p><strong><span>互联网</span></strong></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212115424705.png" alt="image-20211212115424705" style="zoom:50%;" /></p><p>&nbsp;</p><p><strong><span>物联网</span></strong></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212115533798.png" alt="image-20211212115533798" style="zoom:50%;" /></p><p>&nbsp;</p><h3 id='物联网的重要意义'><span>物联网的重要意义</span></h3><p><span>相信我们中的很多人都有过调戏智能手机语音助手的经历。当我们对着语音助手发问时，我们的问题会通过语音识别软件转换成计算机可以传输和处理的数据，这些数据会通过互联网传输到云计算中枢，在这里我们的问题将会经过处理，得到答案。而这些答案也会通过互联网传输回我们的手机再通过扬声器播放。这里我们看到了物联网的雏形。</span></p><p>&nbsp;</p><p><span>假设我们把以上例子中的手机换成一辆汽车，如果要汽车实现无人驾驶功能，那么单纯的依靠汽车本身是不够的。这就引出了物联网的重要性。当我们</span><strong><span>把汽车连接到互联网</span></strong><span>后，汽车就可以实时的把运行时汽车摄像头采集到的影像资料、车载 GPS 情况、汽车传感器采集的数据等上传到无人驾驶云计算平台。在这里，我们的汽车所上传的数据信息会通过云计算而得到最佳的驾驶控制指令。这些控制指令会实时的通过物联网传输给我们的汽车。当汽车接收到这些控制指令后，汽车的控制单元会采取相应的控制措施，从而实现汽车的无人驾驶功能。</span></p><blockquote><p><span>当然，实际的无人驾驶远比这里所描述的要复杂，而且无人驾驶运算有一部分也是来自于车载电脑本身。我在这里举这个例子主要是为了让我们对物联网与人工智能以及云计算之间的关系形成一个初步的认识。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212120443296.png" alt="image-20211212120443296" style="zoom:50%;" /></p></blockquote><p>&nbsp;</p><h3 id='物联网设备主要特点'><span>物联网设备主要特点</span></h3><ol start='' ><li><span>具有互联网连接功能 </span><code>联网功能</code></li><li><span>配有有传感器可感知设备的内部运行情况或设备所处的外部环境状况 </span><code>感知功能</code></li><li><span>可通过互联网将传感器数据上传 </span><code>上传数据</code></li><li><span>可执行来自互联网的控制指令 </span><code>接收指令</code></li></ol><p><span>如果一个设备满足以上几点，那么我们可以很肯定地说，这就是一个物联网装置了。</span></p><h3 id='物联网的应用领域'><span>物联网的应用领域</span></h3><p><span>智能家居，智能制造，智能城市，智能医疗等，这些概念我们耳熟能详。然而这些只是物联网应用的一小部分。如果一定要给物联网应用领域做一个限定，那么我可以很肯定的说，只要有互联网的地方就有物联网的用武之地。</span></p><h3 id='物联网的发展前景'><span>物联网的发展前景</span></h3><p><span>随着人工智能、云计算技术飞速发展，物联网技术也变得越来越重要。</span></p><p>&nbsp;</p><p><span>对于人工智能来说，没有了物联网的人工智能无法获取到远程设备的实时状态信息。缺少这些信息的人工智能平台只能对本地的数据进行处理而无法实现对远程设备的控制管理。人工智能的应用将会大大折扣。这样的人工智能不要说实现无人驾驶汽车，就是我们的手机语音助理都是天方夜谭。</span></p><p>&nbsp;</p><p><span>除了人工智能外，物联网对大数据平台也有着重要的作用。没有了物联网，大数据平台将无法像今天一样轻易的获取到海量数据进行统计分析。数据是大数据平台的关键。没有数据的大数据平台就好像一台没有动力的汽车无法前进一样。</span></p><p>&nbsp;</p><p><strong><span>如果把人工智能和云计算比作一个人的大脑，那么物联网就是一个人的神经网络。</span></strong><span>在上一场科技革命中，互联网是当之无愧的主角。而如今我们正在亲历的这一场科技革命中，人工智能和云计算的光环似乎更加耀眼，然而人们常常忽略了那个托起人工智能和云计算的幕后英雄，他叫物联网。</span></p><p>&nbsp;</p><p><span>如今我们的祖国在大力发展人工智能以及云计算技术。我相信物联网技术作为人工智能和云计算技术的重要组成部分同样有着十分光明的前景。</span></p><h2 id='1-1-开发板详解'><span>1-1-开发板详解</span></h2><ul><li><span>视频时长：21:43</span></li></ul><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212114751877.png" alt="image-20211212114751877" style="zoom:50%;" /><span> </span><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212121041610.png" alt="image-20211212121041610" style="zoom:50%;" /><span> </span><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212121354410.png" alt="image-20211212121354410" style="zoom:50%;" /></p><blockquote><p><span>esp8266 是中国的一家公司「乐鑫科技」做的</span></p></blockquote><p><span>NodeMCU 是一个开源的 IoT 物联网硬件开发板，由于它支持 WIFI 功能且使用方法十分类似 Arduino 开发板，所以近些年获得了越来越多来自全世界的创客朋友们的青睐。NodeMCU 尺寸与 Arduino Nano 类似。它并不是 Arduino 团队开发的，但是我们也可以使用 Arduino IDE 对它进行开发。而且它还有一颗地道的</span><a href='https://www.espressif.com/zh-hans/home'><span>“中国芯”—ESP8266模块</span></a><span>。所以无论在性能还有价格上，我们太极创客团队都认为 NodeMCU 是更值得创客朋友们在物联网开发上花更多的时间来学习和使用的。</span></p><p>&nbsp;</p><p><span>作为万物互联的 IoT 基础，首先物联网控制板的成本不能过高。高昂的物联网控制元件不利于项目成本控制也不利于广大创客爱好者学习和使用它。在这一点上，NodeMCU 比树莓派以及 Arduino 家族的 IoT 平台等更具优势。</span></p><h3 id='esp8266-和-nodemcu'><span>ESP8266 和 NodeMCU</span></h3><p><span>我们知道，要想对 ESP8266 芯片来进行实验操作是很困难的，因为我们很难将小小一枚芯片上的引脚与我们的电脑连接起来然后再进行上传程序等操作。于是便诞生了围绕 ESP8266 芯片的各种开发板。NodeMCU 就是这些开发板中的一员。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212131630500.png" referrerpolicy="no-referrer" alt="image-20211212131630500"></p><p>&nbsp;</p><p><span>NodeMCU 开发板上的两排插针与 ESP8266 芯片的引脚相连。有了开发板上的两排插针，我们就可以很轻松的使用杜邦线将芯片的引脚接到实验电路中。NodeMCU 开发板上还配有 USB 接口以及电压转换电路。这些为我们提供了很大的便利。我们只要用一根 USB 数据线就可以轻松的实现为 ESP8266 供电以及上传程序的操作。当然，NodeMCU 开发板上的电路功能还不止这些，我就不再继续延伸下去了。不过说了这么多，还是请您务必记住一点，</span><code>NodeMCU 开发板上的两排插针与 ESP8266 芯片的引脚是连在一起的。</code><span>这一知识点在本节后续的学习中还会用到。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212131803923.png" alt="image-20211212131803923" style="zoom:80%;" /></p><p>&nbsp;</p><p><span>市面上销售的配有 ESP8266 芯片的开发板有很多种。比较流行的有 SparkFun ESP8266 Thing、Adafruit Feather HUZZAH with ESP8266、Node MCU 等。通过对这些开发板的软件、硬件、配置、价格、易用性等方面综合比较，我们太极创客团队最后决定在这套教程中使用 NodeMCU 开发板来学习物联网开发。</span></p><h3 id='数字输入输出引脚gpio）'><span>数字输入输出引脚（GPIO）</span></h3><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212123319686.png" alt="image-20211212123319686" style="zoom:80%;" /></p><p>&nbsp;</p><p><span>ESP8266 芯片四周分布很多引脚。这些引脚大部分可用作输入输出使用。这些用作输入输出的引脚统称为 GPIO。</span><strong><span>ESP8266 芯片的 GPIO 引脚可用作</span><code>数字输入</code><span>来读取引脚电平，也可用作</span><code>数字输出</code><span>向外围电路发出控制信号。</span></strong><span>在这一点上，GPIO 引脚与 Arduino 开发板的引脚功能十分</span><strong><span>类似</span></strong><span>。</span></p><blockquote><p><span>请注意，在这里用的是类似而不是相同。因为 GPIO 引脚与 Arduino 开发板引脚还是存在着很多不同的。</span></p><p>&nbsp;</p><p><strong><span>GPIO 是什么？</span></strong></p><p><span>General Purpose Input/Output，表示通用输入/输出引脚。</span></p></blockquote><p><span>当引脚以数字输出模式工作时，低电平是 0V (灌电流)，高电平是 3.3V (拉电流)。</span></p><blockquote><p><span>请注意，ESP8266 芯片与 Arduino Uno/Mega/Nano 等开发板的引脚电平电压有所区别。Arduino 开发板的高电平是 +5V，低电平是 0V。</span></p></blockquote><h3 id='gpio-编号与-nodemcu-开发板引脚名的区别'><span>GPIO 编号与 NodeMCU 开发板引脚名的区别</span></h3><blockquote><p><span>请注意，在很多介绍 ESP8266 以及 NodeMCU 的资料里会出现两种引脚命名方法。一种是 GPIO 编号，一种是 NodeMCU 引脚名。请注意这两者是不同的，请千万不要混淆。</span></p><p><code>GPIO 编号 =&gt; ESP8266 芯片的引脚编号</code></p><p><code>NodeMCU引脚名 =&gt; 电路板上印刷的引脚名称</code></p></blockquote><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212124034255.png" alt="image-20211212124034255" style="zoom:75%;" /></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212124200049.png" alt="image-20211212124200049" style="zoom:75%;" /></p><p>&nbsp;</p><p><span>本教程中 “GPIO编号” 这一名称指代的是 ESP8266 芯片的引脚编号。我们会以“GPIO + 数字”这一格式来指代，如 GPIO2, GPIO16…</span></p><p>&nbsp;</p><p><span>NodeMCU 开发板的引脚名指的是开发板上印刷的文字。通常这些引脚名都是一个字符接一个数字的组合，如：D0、D1、A0… 我们会用“开发板引脚”或直接使用“引脚”来表示它们。</span></p><p>&nbsp;</p><p><span>简而言之，</span><strong><span>只要您看到 GPIO 这几个字母，就说明是芯片引脚，而没有 GPIO 这几个字母，那肯定是指开发板引脚。</span></strong></p><h3 id='esp8266-gpio-编号与-nodemcu-开发板引脚名的对应关系'><span>ESP8266 GPIO 编号与 NodeMCU 开发板引脚名的对应关系</span></h3><p><span>在本节教程开始的地方我曾经跟大家讲过，ESP8266 芯片的 GPIO 与开发板的引脚是连在一起的。但是 GPIO 与开发板引脚又是如何相互连接的呢？这个问题的答案就在下面的说明图中。</span></p><p>&nbsp;</p><p><img src="http://www.taichi-maker.com/wp-content/uploads/2019/02/esp8266_devkit_horizontal-001.png" alt="ESP8266-NodeMCU引脚功能" style="zoom: 75%;" /></p><p>&nbsp;</p><p><span>在以上图片中深蓝底白色字的标识就是 GPIO 引脚编号。如“</span><span style="color: #fff; background: #356e94; padding: 2px 5px"><span>GPIO4</span></span><span>”。而开发板上所印刷的 D2,D3 等等就是 NodeMCU 开发板引脚名称。如下图所示。</span></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212124731353.png" referrerpolicy="no-referrer" alt="image-20211212124731353"></p><p>&nbsp;</p><p><span>如下图所示，NodeMCU 的 D2 引脚是与 GPIO4 相互连接的。以此类推，通过以下说明图您就可以找到 D2 与 GPIO 的对应关系了。</span></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212125023477.png" alt="image-20211212125023477" style="zoom:90%;" /></p><p>&nbsp;</p><p><span>那么，我们为什么要花这么多时间讲解开发板引脚名和GPIO号的对应关系呢？因为，将来我们在编写NodeMCU开发板的控制程序时，经常会进行引脚操作。如以下程序语句。</span></p><blockquote><ul><li><p><span style="color: #fff; background: #356e94; padding: 2px 5px"><span>ADC</span></span><span> 模拟引脚</span></p></li><li><p><span style="color: #fff; background: #a0371a; padding: 2px 5px"><span>GND</span></span><span> 接地引脚（</span><code>GND -&gt; Ground</code><span>）</span></p></li><li><p><span style="color: #fff; background: #a0371a; padding: 2px 5px"><span>3V3</span></span><span> 当 nodeMCU 通电工作时，这些引脚可以为外界提供 3.3V 的电压。</span></p></li><li><p><span style="color: #fff; background: #a0371a; padding: 2px 5px"><span>Vin</span></span><span> 为 nodeMCU 供电（</span><code>V in -&gt; V 电压 in 输入 -&gt; 电压输入</code><span> ）</span></p><ul><li><span>我们有两种方式来为 nodeMCU 供电，一种是通过 USB 数据线来供电，另外一种就是通过 Vin 引脚来供电。具体细节后续课程再讲解。</span></li></ul></li><li><p><span style="color: #000; background: #c0d0dd; padding: 2px 5px"><span>xxx</span></span><span> nodeMCU 用于通讯的引脚</span></p><ul><li><span>U0TXD TX nodeMCU 用于发送数据的引脚</span></li><li><span>U0RXD RX nodeMCU 用于接收数据的引脚</span></li><li><span>U1TXD</span></li><li><span>U1RXD</span></li></ul></li><li><p><span style="color: #fff; background: #000; padding: 2px 5px"><span>xxx</span></span><span> nodeMCU 用于操作内部存储单元的引脚</span></p><ul><li><span>当我们把程序传到 nodeMCU 开发板以后，程序会存储到开发板中。每当我们开机时，nodeMCU 就会从它的存储单元中读取我们之前上传的程序，并执行程序指令，完成相应的工作。</span></li></ul></li><li><p><span style="color: #fff; background: #929597; padding: 2px 5px"><span>xxx</span></span><span> 这些引脚同样是 esp8266 的一些引脚编号，不过我们在开发的时候一般都不会用到这种编号，我们在学习过程中，直接忽略它们即可。</span></p></li><li><p><span>按钮</span></p><ul><li><span>RST 复位</span></li><li><span>FLASH 刷固件</span></li></ul></li></ul></blockquote><p>&nbsp;</p><p><code>digitalWrite(4, HIGH);</code></p><p>&nbsp;</p><p><span>以上语句通过 digitalWrite 函数将引脚 4 设置为高电平。那么您知道这个数字 4 到底是指 GPIO4 还是指开发板 D4 引脚呢？答案是 GPIO4 而不是 D4。</span></p><p>&nbsp;</p><p><span>通过下面这个 GPIO 编号与开发板引脚对应图我们不难看出。以上语句实际是将 NodeMCU 开发板的 D2 引脚设置为高电平。因为 D2 对应的是 GPIO4。上面这条语句还也可以写为 </span><code>digitalWrite(D2, HIGH);</code><span> 它们两者是等效的，都是将 NodeMCU 开发板的 D2 引脚设置为高电平。</span></p><h3 id='可用引脚'><span>可用引脚</span></h3><p><span>ESP8266 芯片有 17 个 GPIO 引脚（GPIO0～GPIO16）。这些引脚中的 </span><code>GPIO6～GPIO 11</code><span> 被用于连接开发板的闪存（Flash Memory）。如果在实验电路中使用 GPIO6～GPIO11，NodeMCU 开发板将无法正常工作。因此建议您</span><strong><span>不要使用 GPIO6～GPIO 11</span></strong><span>。</span></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212125710637.png" referrerpolicy="no-referrer" alt="image-20211212125710637"></p><h3 id='电压电流限制'><span>电压电流限制</span></h3><p><span>NodeMCU 开发板引脚的输入输出电压限制是 </span><code>3.3V</code><span>。如果向引脚施加 3.6V 以上的电压就有可能对芯片电路造成损坏。同时请注意，这些引脚的最大输出电流是 </span><code>12mA</code><span>。</span></p><p>&nbsp;</p><p><span>由于 NodeMCU 开发板的引脚允许电压和电流都是低于 Arduino 开发板的引脚，所以如您想要将 NodeMCU 与 Arduino 引脚相互连接，请特别注意这两个开发板的引脚电压和电流的区别。如果操作不当可能会损坏 NodeMCU 开发板。</span></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212133527256.png" alt="image-20211212133527256" style="zoom: 33%;" /></p><h3 id='特殊引脚情况说明'><span>特殊引脚情况说明</span></h3><ul><li><code>GPIO2引脚</code><span>在 NodeMCU 开发板启动时是不能连接低电平的。</span></li><li><code>GPIO15引脚</code><span>在开发板运行中一直保持低电平状态。因此请不要使用 GPIO15 引脚来读取开关状态或进行 I²C 通讯。</span></li><li><code>GPIO0引脚</code><span>在开发板运行中需要一直保持高电平状态。否则 ESP8266 将进入程序上传工作模式也就无法正常工作了。您无需对 GPIO0 引脚进行额外操作，因为 NodeMCU 的内置电路可以确保 GPIO0 引脚在工作时连接高电平而在上传程序时连接低电平。</span></li></ul><h3 id='上拉电阻下拉电阻'><span>上拉电阻/下拉电阻</span></h3><p><span>GPIO 0-15 引脚都配有内置上拉电阻。这一点与 Arduino 十分类似。GPIO16 引脚配有内置下拉电阻。</span></p><h3 id='模拟输入'><span>模拟输入</span></h3><p><span>ESP8266 只有一个模拟输入引脚（该引脚通过模拟-数字转换将引脚上的模拟电压数值转化为数字量）。此引脚可以读取的模拟电压值为 0 – 1.0V。请注意：ESP8266 芯片模拟输入引脚连接在 1.0V 以上电压可能损坏 ESP8266 芯片。</span></p><p>&nbsp;</p><p><span>以上所描述的是针对 ESP8266 芯片的引脚。而对于 NodeMCU 开发板引脚，情况就不同了。NodeMCU 开发板配有降压电路。您可以用 NodeMCU 开发板的模拟输入引脚读取 0-3.3V 的模拟电压信号。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211212133840470.png" alt="image-20211212133840470" style="zoom:33%;" /></p><h3 id='通讯'><span>通讯</span></h3><ul><li><strong><span>串行端口</span></strong></li></ul><p><span>ESP8266 有 2 个硬件串行端口（UART）。</span></p><p><span>串行端口0（UART0）使用 GPIO1 和 GPIO3 引脚。其中 GPIO1 引脚是 TX0，GPIO3 是 RX0。</span></p><p><span>串行端口1（UART1）使用 GPIO2 和 GPIO8 引脚。其中 GPIO2 引脚是 TX1，GPIO8 是 RX1。</span></p><blockquote><p><span>请注意，由于 GPIO8 被用于连接闪存芯片，串行端口 1 只能使用 GPIO2 来向外发送串行数据。</span></p></blockquote><ul><li><strong><span>I²C</span></strong></li></ul><p><span>ESP8266 只有软件模拟的 I²C 端口，没有硬件 I²C 端口。也就是说我们可以使用任意的两个 GPIO 引脚通过软件模拟来实现 I²C 通讯。ESP8266 的数据表（datasheet）中，GPIO2 标注为 SDA，GPIO14 标注为 SCL。</span></p><ul><li><strong><span>SPI</span></strong></li></ul><p><span>GPIO14 — CLK</span>
<span>GPIO12 — MISO</span>
<span>GPIO13 — MOSI</span>
<span>GPIO 15 — CS(SS)</span></p><p>&nbsp;</p><blockquote><p><span>上面介绍的 3 种通讯方式中，比较常用的是「串行端口」。</span></p></blockquote><h3 id='esp8266引脚功能一览'><span>ESP8266引脚功能一览</span></h3><figure><table><thead><tr><th style='text-align:left;' ><span>GPIO</span></th><th style='text-align:left;' ><span>功能</span></th><th style='text-align:left;' ><span>状态</span></th><th style='text-align:left;' ><span>限制</span></th></tr></thead><tbody><tr><td style='text-align:left;' ><span>0</span></td><td style='text-align:left;' ><span>引导模式选择</span></td><td style='text-align:left;' ><span>3.3V</span></td><td style='text-align:left;' ><span>无Hi-Z</span></td></tr><tr><td style='text-align:left;' ><span>1</span></td><td style='text-align:left;' ><span>TX0</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>串口通讯过程中不能使用</span></td></tr><tr><td style='text-align:left;' ><span>2</span></td><td style='text-align:left;' ><span>引导模式选择 TX1</span></td><td style='text-align:left;' ><span>3.3V</span></td><td style='text-align:left;' ><span>启动时不能接地 启动时发送调试信息</span></td></tr><tr><td style='text-align:left;' ><span>3</span></td><td style='text-align:left;' ><span>RX0</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>串口通讯过程中不能使用</span></td></tr><tr><td style='text-align:left;' ><span>4</span></td><td style='text-align:left;' ><span>SDA (I²C)</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>–</span></td></tr><tr><td style='text-align:left;' ><span>5</span></td><td style='text-align:left;' ><span>SCL (I²C)</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>–</span></td></tr><tr><td style='text-align:left;' ><span>6 – 11</span></td><td style='text-align:left;' ><span>连接闪存</span></td><td style='text-align:left;' ><span>x</span></td><td style='text-align:left;' ><span>不可用</span></td></tr><tr><td style='text-align:left;' ><span>12</span></td><td style='text-align:left;' ><span>MISO (SPI)</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>–</span></td></tr><tr><td style='text-align:left;' ><span>13</span></td><td style='text-align:left;' ><span>MOSI (SPI)</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>–</span></td></tr><tr><td style='text-align:left;' ><span>14</span></td><td style='text-align:left;' ><span>SCK (SPI)</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>–</span></td></tr><tr><td style='text-align:left;' ><span>15</span></td><td style='text-align:left;' ><span>SS (SPI)</span></td><td style='text-align:left;' ><span>0V</span></td><td style='text-align:left;' ><span>上拉电阻不可用</span></td></tr><tr><td style='text-align:left;' ><span>16</span></td><td style='text-align:left;' ><span>睡眠唤醒</span></td><td style='text-align:left;' ><span>–</span></td><td style='text-align:left;' ><span>无上拉电阻，仅有下拉电阻 连接 RST 引脚实现睡眠唤醒</span></td></tr></tbody></table></figure><h2 id='2-1-互联网基础-1'><span>2-1 互联网基础-1</span></h2><ul><li><span>视频时长：21:55</span></li></ul><p><span>对于互联网的相关知识，我们只要掌握到物联网开发必备的层次即可。课程讲解的内容，也是以此为目标来讲解的，所以课程的深度不会太深，都是互联网的一些基础概念。</span></p><blockquote><p><span>详细内容，可以参考太极创客官方教程 - </span><a href='http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/'><span>第2章 互联网知识基础</span></a><span>。</span></p></blockquote><h3 id='互联网协议'><span>互联网协议</span></h3><p><span>互联网协议，就是互联网设备之间通讯所遵循的一种规则，遵循这种规则，互联网的设备之间就可以实现通讯。我们主要学习的是 TCP/IP 协议。</span></p><p><span> </span><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213084708770.png" alt="image-20211213084708770" style="zoom:30%;" /></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213085009833.png" alt="image-20211213085009833" style="zoom:30%;" /><span> </span><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213085032556.png" alt="image-20211213085032556" style="zoom:30%;" /></p><p>&nbsp;</p><p><span>本节课介绍的协议是：数据链路层的 WiFi 和网络层的 IP。</span></p><h3 id='wifi'><span>WiFi</span></h3><p><span>链路层的主要作用：实现设备之间的</span><code>物理链接</code><span>。举例来说，我们日常使用的 </span><code>WiFi</code><span> 就是链路层协议中的一种。</span></p><p>&nbsp;</p><p><span>ESP8266 利用 WiFi 联网时有 3 种工作模式。</span></p><ul><li><span>接入点模式 Access Point</span></li><li><span>无线终端模式 Wireless Station</span></li><li><span>混合模式 Access Point + Wireless Station</span></li></ul><h4 id='接入点模式'><span>接入点模式</span></h4><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091441439.png" alt="image-20211213091441439" style="zoom:30%;" /></p><p>&nbsp;</p><h4 id='无线终端模式'><span>无线终端模式</span></h4><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091546688.png" alt="image-20211213091546688" style="zoom:30%;" /></p><p>&nbsp;</p><p>&nbsp;</p><h4 id='混合模式'><span>混合模式</span></h4><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091646970.png" alt="image-20211213091646970" style="zoom:30%;" /></p><p>&nbsp;</p><h3 id='ip-协议'><span>IP 协议</span></h3><p><strong><span>版本</span></strong></p><ul><li><span>IPv4</span></li><li><span>IPv6</span></li></ul><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091851059.png" alt="image-20211213091851059" style="zoom:30%;" /></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091922826.png" alt="image-20211213091922826" style="zoom:30%;" /></p><p>&nbsp;</p><h4 id='核心概念'><span>核心概念</span></h4><ul><li><a href='https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91/98626'><span>局域网</span></a></li><li><a href='https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91/98626'><span>网关</span></a></li></ul><h2 id='2-2-互联网基础-2'><span>2-2 互联网基础-2</span></h2><ul><li><span>视频时长：27:05</span></li></ul><p><span>上一节，主要介绍了数据链路层的 WiFi 和网络层的 IP，本节结束传输层的 TCP｜UPD 和应用层的 HTTP。</span></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213085032556.png" alt="image-20211213085032556" style="zoom:30%;" /></p><p>&nbsp;</p><h3 id='tcp'><span>TCP</span></h3><p><span>特点：稳</span></p><ul><li><span>保证所有数据都能被接收端</span><code>接收</code><span>；</span></li><li><span>数据的传输</span><code>顺序</code><span>不会打乱；</span></li><li><span>传输数据若有损坏则</span><code>重发</code><span>受损数据；</span></li></ul><p><span>TCP 协议常见应用领域</span></p><ul><li><span>电子邮件</span></li><li><span>文件传输</span></li></ul><h3 id='udp'><span>UDP</span></h3><p><span>特点：快</span></p><ul><li><span>UDP 比 TCP 速度</span><code>快</code><span>；</span></li><li><code>不</code><span>保证所有数据都能被接收端接收；</span></li><li><span>数据一旦受损，UDP 协议将</span><code>抛弃</code><span>受损数据；</span></li><li><span>有数据顺怀</span><code>不</code><span>会重新发送受损数据；</span></li></ul><p><span>UDP 协议常见应用领域</span></p><ul><li><span>在线语音|视频</span></li><li><span>网游</span></li></ul><h3 id='http'><span>HTTP</span></h3><h4 id='概念'><span>概念</span></h4><p><span>HTTP 协议是 Hyper Text Transfer Protocol（超文本传输协议）的缩写，是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。</span></p><p><span>HTTP 是一个基于 TCP/IP 通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。</span></p><p>&nbsp;</p><p><strong><span>Reference</span></strong></p><ul><li><a href='https://www.liaoxuefeng.com/wiki/1016959663602400/1017804782304672'><span>廖雪峰 HTTP协议简介</span></a></li></ul><h4 id='请求'><span>请求</span></h4><p><span>浏览器向 web 服务器发送请求。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213131055704.png" alt="image-20211213131055704" style="zoom:33%;" /><span> </span></p><p>&nbsp;</p><p><strong><span>请求行</span></strong></p><p><span>请求行，由以下 3 部分组成。</span></p><ul><li><span>请求方式</span></li><li><span>请求资源的路径</span></li><li><span>协议版本</span></li></ul><p><strong><span>请求头</span></strong></p><p><span>请求头，是对该请求的一些描述。</span></p><h4 id='响应'><span>响应</span></h4><p><span>响应，就是 web 服务器响应浏览器发送的请求。响应内容的格式如下图所示。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213131205428.png" alt="image-20211213131205428" style="zoom:33%;" /><span> </span></p><p>&nbsp;</p><p><strong><span>状态行</span></strong></p><ul><li><span>200 状态码，表示服务器成功找到 http 请求的网页。</span></li><li><span>404 状态码，表示服务器无法找到请求的网页。</span></li></ul><blockquote><p><span>状态行，描述的是该响应的状态，比如，是成功的状态还是失败的状态。</span></p></blockquote><p><strong><span>响应头</span></strong></p><p><code>Date: Fri, 22 May 2009 06:07:21 GMT</code></p><ul><li><span>表示服务器响应该请求的时间</span></li></ul><p><code>Content-Type: text/html; charset=UTF-8</code></p><ul><li><p><code>Content-Type</code><span> 表示响应体的内容类型</span></p></li><li><p><code>text/html</code><span> html 网页</span></p><ul><li><code>image/jpeg</code><span> 图片</span></li></ul></li><li><p><code>charset=UTF-8</code><span> 字符集</span></p></li></ul><blockquote><p><span>响应头，就是描述该响应的附加信息，比如，该响应是什么时候发生的，该响应的资源是什么类型（图片、网页、视频、音频等）。</span></p></blockquote><p><strong><span>响应体</span></strong></p><p><span>响应体，就是发出该请求的那一方所拿到的数据。</span></p><h2 id='3-1-esp8266-物联网开发基础'><span>3-1 ESP8266 物联网开发基础</span></h2><ul><li><span>视频时长：41:55</span></li></ul><h3 id='安装-esp8266-nodemcu开发板驱动'><span>安装 ESP8266-NodeMCU开发板驱动</span></h3><ul><li><a href='http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/install-esp8266-nodemcu-driver/'><span>点击查看详情</span></a></li></ul><h3 id='为esp8266-nodemcu搭建arduino-ide开发环境'><span>为ESP8266-NodeMCU搭建Arduino IDE开发环境</span></h3><ul><li><a href='http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/nodemcu-arduino-ide/'><span>点击查看详情</span></a></li></ul><h3 id='nodemcu开发板的接入点模式'><span>NodeMCU开发板的接入点模式</span></h3><ul><li><a href='http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/ap/'><span>点击查看详情</span></a></li></ul><p><span>接入点模式（Access Point, 也称 AP）。NodeMCU 可以建立 WiFi 网络供其它设备连接。当 NodeMCU 以此模式运行时，我们可以使用手机搜索 NodeMCU 所发出的 WiFi 网络并进行连接（但是无法上网，这是因为 NodeMCU 建立的 WiFi 网络没有与互联网相互连接。）。</span></p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091441439.png" alt="image-20211213091441439" style="zoom:30%;" /></p><p><span>通过以下示例程序，NodeMCU 将会建立一个名为 taichi-maker 的 WiFI。您可以使用手机或电脑连接该 WiFi 从而实现与 NodeMCU 的网络通讯。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 12px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">NodeMCU 接入点模式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">By 太极创客（http://www.taichi-maker.com）2019-03-11</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">此程序用于演示如何将NodeMCU以接入点模式工作。通过此程序，您可以使用电脑或者手机连接 NodeMCU 所建立 WiFi 网络。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">网络名: taichi-maker</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">密码：12345678</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">如需获得更多关于如何使用 NodeMCU 开发物联网的教程和资料信息，请参考太极创客网站（http://www.taichi-maker.com），并在首页搜索栏中搜索关键字：「物联网」。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;ESP8266WiFi.h&gt; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="cm-comment">// 本程序使用 ESP8266WiFi 库</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">ssid</span> <span class="cm-operator">=</span> <span class="cm-string">"taichi-maker"</span>; <span class="cm-comment">// 这里定义将要建立的 WiFi 名称。此处以 "taichi-maker" 为示例</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 您可以将自己想要建立的 WiFi 名称填写入此处的双引号中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-string">"12345678"</span>; &nbsp;<span class="cm-comment">// 这里定义将要建立的 WiFi 密码。此处以 12345678 为示例</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 您可以将自己想要使用的 WiFi 密码放入引号内</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 如果建立的 WiFi 不要密码，则在双引号内不要填入任何信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">setup</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">begin</span>(<span class="cm-number">9600</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 启动串口通讯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">WiFi</span>.<span class="cm-variable">softAP</span>(<span class="cm-variable">ssid</span>, <span class="cm-variable">password</span>); &nbsp; &nbsp; <span class="cm-comment">// 此语句是重点。WiFi.softAP 用于启动 NodeMCU 的 AP 模式。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 括号中有两个参数，ssid 是 WiFi 名。password 是 WiFi 密码。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 这两个参数具体内容在 setup 函数之前的位置进行定义。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-string">"Access Point: "</span>); &nbsp; &nbsp;<span class="cm-comment">// 通过串口监视器输出信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">println</span>(<span class="cm-variable">ssid</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 告知用户 NodeMCU 所建立的 WiFi 名</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-string">"IP address: "</span>); &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 以及 NodeMCU 的 IP 地址</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">println</span>(<span class="cm-variable">WiFi</span>.<span class="cm-variable">softAPIP</span>()); &nbsp; <span class="cm-comment">// 通过调用 WiFi.softAPIP() 可以得到 NodeMCU 的 IP 地址</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">loop</span>() { </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 启动串口通讯：Serial.begin(9600)</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1036px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1036px;"></div></div></div></pre><h3 id='nodemcu开发板的无线终端模式'><span>NodeMCU开发板的无线终端模式</span></h3><ul><li><a href='http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/station/'><span>点击查看详情</span></a></li></ul><p><span>单点接入模式，在实际开发中很少使用，使用更多的是下面要介绍的无线终端模式。</span></p><p>&nbsp;</p><p><img src="https://gitee.com/dahuyou_top/pic-bed/raw/master/uPic/image-20211213091546688.png" alt="image-20211213091546688" style="zoom:30%;" /></p><p>&nbsp;</p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 12px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">NodeMCU无线终端模式连接 WiFi</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">By 太极创客（http://www.taichi-maker.com）2019-03-11</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">本示例程序用于演示如何使用 NodeMCU 无线终端模式连接 WiFi</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;ESP8266WiFi.h&gt; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="cm-comment">// 本程序使用ESP8266WiFi库</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">char*</span> <span class="cm-variable">ssid</span> &nbsp; &nbsp; <span class="cm-operator">=</span> <span class="cm-string">"taichi-maker"</span>; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 连接WiFi名（此处使用taichi-maker为示例）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 请将您需要连接的WiFi名填入引号中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">char*</span> <span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-string">"12345678"</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 连接WiFi密码（此处使用12345678为示例）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 请将您需要连接的WiFi密码填入引号中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">setup</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">begin</span>(<span class="cm-number">9600</span>); &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// 启动串口通讯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">WiFi</span>.<span class="cm-variable">begin</span>(<span class="cm-variable">ssid</span>, <span class="cm-variable">password</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 启动网络连接</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-string">"Connecting to "</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 串口监视器输出网络连接信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-variable">ssid</span>); <span class="cm-variable">Serial</span>.<span class="cm-variable">println</span>(<span class="cm-string">" ..."</span>); &nbsp;<span class="cm-comment">// 告知用户NodeMCU正在尝试WiFi连接</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 这一段程序语句用于检查WiFi是否连接成功</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">while</span> (<span class="cm-variable">WiFi</span>.<span class="cm-variable">status</span>() <span class="cm-operator">!=</span> <span class="cm-variable">WL_CONNECTED</span>) { &nbsp; &nbsp; &nbsp;<span class="cm-comment">// WiFi.status()函数的返回值是由NodeMCU的WiFi连接状态所决定的。 </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">delay</span>(<span class="cm-number">1000</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 如果WiFi连接成功则返回值为WL_CONNECTED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-variable">i</span><span class="cm-operator">++</span>); <span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-string">' '</span>); &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 此处通过While循环让NodeMCU每隔一秒钟检查一次WiFi.status()函数返回值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  } &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 同时NodeMCU将通过串口监视器输出连接时长读秒。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 这个读秒是通过变量i每隔一秒自加1来实现的。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">println</span>(<span class="cm-string">""</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// WiFi连接成功后</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">println</span>(<span class="cm-string">"Connection established!"</span>); &nbsp; <span class="cm-comment">// NodeMCU将通过串口监视器输出"连接成功"信息。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">print</span>(<span class="cm-string">"IP address: &nbsp;  "</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">// 同时还将输出NodeMCU的IP地址。这一功能是通过调用</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Serial</span>.<span class="cm-variable">println</span>(<span class="cm-variable">WiFi</span>.<span class="cm-variable">localIP</span>()); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// WiFi.localIP()函数来实现的。该函数的返回值即NodeMCU的IP地址。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">loop</span>() { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 启动网络连接：WiFi.begin(ssid, password)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 判断 wifi 是否连接成功的标志：WiFi.status() != WL_CONNECTED</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 获取 nodeMCU 开发板的 IP 地址：WiFi.localIP()</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1176px;"></div></div></div></pre><p>&nbsp;</p><h2 id='3-2-esp8266-网络服务器'><span>3-2 ESP8266 网络服务器</span></h2><ul><li><span>视频时长：1:03:10</span></li></ul><p>&nbsp;</p><h2 id='3-3-esp8266-闪存文件系统'><span>3-3 ESP8266 闪存文件系统</span></h2><ul><li><span>视频时长：48:38</span></li></ul><h2 id='3-4-esp8266-闪存文件应用'><span>3-4 ESP8266 闪存文件应用</span></h2><ul><li><span>视频时长：40:36</span></li></ul><h2 id='3-5-闪存文件系统网络服务示例'><span>3-5 闪存文件系统网络服务示例</span></h2><ul><li><span>视频时长：49:48</span></li></ul><h2 id='3-6-esp8266-网络客户端基本操作-1'><span>3-6 ESP8266 网络客户端基本操作-1</span></h2><ul><li><span>视频时长：33:00</span></li></ul><h2 id='3-7-esp8266-网络客户端基本操作-2'><span>3-7 ESP8266 网络客户端基本操作-2</span></h2><ul><li><span>视频时长：29:19</span></li></ul><h2 id='3-8-stream'><span>3-8-Stream</span></h2><ul><li><span>视频时长：25:48</span></li></ul><h2 id='3-9-esp8266-http通讯'><span>3-9-ESP8266-HTTP通讯</span></h2><ul><li><span>视频时长：48:43</span></li></ul><h2 id='3-10-json-基础'><span>3-10-JSON 基础</span></h2><ul><li><span>视频时长：29:48</span></li></ul><h2 id='3-11-esp8266-json-解析'><span>3-11-ESP8266-JSON-解析</span></h2><ul><li><span>视频时长：38:12</span></li></ul><h2 id='3-12-esp8266-json-数据通讯-1'><span>3-12-ESP8266-JSON 数据通讯-1</span></h2><ul><li><span>视频时长：47:09</span></li></ul><h2 id='3-13-esp8266-json-数据通讯-2'><span>3-13-ESP8266-JSON 数据通讯-2</span></h2><ul><li><span>视频时长：32:31</span></li></ul><h2 id='3-14-esp8266-json-数据通讯-3'><span>3-14-ESP8266-JSON 数据通讯-3</span></h2><ul><li><span>视频时长：29:52</span></li></ul><h2 id='3-15-esp8266-http-api-应用-1'><span>3-15-ESP8266 HTTP API 应用-1</span></h2><ul><li><span>视频时长：46:55</span></li></ul><h2 id='3-16-esp8266-http-api-应用-2'><span>3-16-ESP8266 HTTP API 应用-2</span></h2><ul><li><span>视频时长：35:34</span></li></ul><h2 id='用-wifimanager-库配网'><span>用 WiFiManager 库配网</span></h2><ul><li><span>视频时长：22:05</span></li></ul><h2 id='esp8266-多任务处理'><span>ESP8266 多任务处理</span></h2><ul><li><span>视频时长：25:18</span></li></ul><h2 id='esp8266-ota'><span>ESP8266 OTA</span></h2><ul><li><span>视频时长：16:28</span></li></ul><p>&nbsp;</p></div></div>

<script>(function (){var t=document.body.parentElement,e=[],n=null,i=document.body.classList.contains("typora-export-collapse-outline"),r=function(t,e,n){document.addEventListener(t,function(t){if(!t.defaultPrevented)for(var i=t.target;i&&i!=this;i=i.parentNode)if(i.matches(e)){!1===n.call(i,t)&&(t.preventDefault(),t.stopPropagation());break}},!1)};function o(){return t.scrollTop}r("click",".outline-expander",function(t){var e=this.closest(".outline-item-wrapper").classList;return e.contains("outline-item-open")?e.remove("outline-item-open"):e.add("outline-item-open"),c(),!1}),r("click",".outline-item",function(t){var e=this.querySelector(".outline-label");if(location.hash="#"+e.getAttribute("href"),i){var n=this.closest(".outline-item-wrapper").classList;n.contains("outline-item-open")||n.add("outline-item-open"),l(),n.add("outline-item-active")}});var a,s,u=function(){var t=o();n=null;for(var i=0;i<e.length&&e[i][1]-t<60;i++)n=e[i]},l=function(){document.querySelectorAll(".outline-item-active").forEach(t=>t.classList.remove("outline-item-active")),document.querySelectorAll(".outline-item-single.outline-item-open").forEach(t=>t.classList.remove("outline-item-open"))},c=function(){if(n){l();var t=document.querySelector('.outline-label[href="#'+(CSS.escape?CSS.escape(n[0]):n[0])+'"]');if(t)if(i){var e=t.closest(".outline-item-open>ul>.outline-item-wrapper");if(e)e.classList.add("outline-item-active");else{for(var r=(t=t.closest(".outline-item-wrapper")).parentElement.closest(".outline-item-wrapper");r;)r=(t=r).parentElement.closest(".outline-item-wrapper");t.classList.add("outline-item-active")}}else t.closest(".outline-item-wrapper").classList.add("outline-item-active")}};window.addEventListener("scroll",function(t){a&&clearTimeout(a),a=setTimeout(function(){u(),c()},300)});var f=function(){s=setTimeout(function(){!function(){e=[];var t=o();document.querySelector("#write").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(n=>{var i=n.getAttribute("id");e.push([i,t+n.getBoundingClientRect().y])})}(),u(),c()},300)};window.addEventListener("resize",function(t){s&&clearTimeout(s),f()}),f()})();</script><script>
// 媒体查询 - 默认情况下，侧边的目录在 800px 以上时出现，但是，手机上横屏展示时，宽度在 800px 以上，会展示出侧边的目录，但是，若展示出来的话，那么内容的空间就很小了。所以不希望它展示出来，下面这段脚本的作用就是将其媒体查询的值改为 1000px
function myFunction(x) {
    if (x.matches) { // 媒体查询
        sidebar.style.display = "none";
    } else {
        sidebar.style.display = "block";
        sidebar.style.width = "240px";
    }
}
const sidebar = document.querySelector('.typora-export-sidebar');
var x = window.matchMedia("(max-width: 1000px)")
myFunction(x) // 执行时调用的监听函数
x.addListener(myFunction) // 状态改变时添加监听器
// 左下角的展开菜单
const showCatalog = document.createElement("div");
showCatalog.style.position = "fixed";
showCatalog.style.bottom = '1rem';
showCatalog.style.left = '1rem';
showCatalog.style.backgroundColor = 'rgba(0, 140, 140, 0.4)';
showCatalog.style.width = '1.5rem';
showCatalog.style.height = '1.5rem';
showCatalog.style.borderRadius = '50%';
showCatalog.onclick = () => {
  if (sidebar.style.display === "block") {
    sidebar.style.display = "none";
  } else {
    sidebar.style.display = "block";
  }
}
// 右下角的回到顶部
const toTop = document.createElement("div");
toTop.style.position = "fixed";
toTop.style.bottom = '1rem';
toTop.style.right = '1rem';
toTop.style.backgroundColor = 'rgba(140, 0, 140, 0.4)';
toTop.style.width = '1.5rem';
toTop.style.height = '1.5rem';
toTop.style.borderRadius = '50%';
toTop.onclick = () => {
  document.documentElement.style.scrollBehavior = "smooth";
  document.documentElement.scrollTop = 0;
}

document.body.appendChild(showCatalog);
document.body.appendChild(toTop);
// 解决 checkbox 无法选中的问题
document.querySelectorAll(".task-list-item").forEach(li => li.onclick = function() { const inp = this.querySelector("input[type='checkbox']"); inp.checked = !inp.checked; this.classList.remove('task-list-not-done');this.classList.remove('task-list-done'); this.classList.add(inp.checked === true?'task-list-done':'task-list-not-done')})
// 超链接在新页面打开
document.querySelectorAll('a').forEach(a => a.target = '_blank')
// 防止导航的超链接跳转到新页面
document.querySelector('.outline-content').querySelectorAll('a').forEach(a => a.target = "");
document.querySelector('.md-toc').querySelectorAll('a').forEach(a => a.target = "")
</script></body>
</html>