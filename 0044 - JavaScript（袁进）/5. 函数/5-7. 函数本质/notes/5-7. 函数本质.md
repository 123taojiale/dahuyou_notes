## 5-7. 函数的本质 {ignore}

[toc]

### 函数本质

函数的本质就是对象。某些教程中，将构造函数称之为构造器。

构造函数其实就是在调用函数时，加上一个关键字 new。而所有的对象，本质上都是通过构造函数来创建出来的。

而函数本质上就是一个对象，那么，函数也必然是通过构造函数来创建出来的，而创建函数的构造函数，就是 Function。即：所有的函数，都是通过 `new Function(...);` 的方式来创建的。

由于函数本身就是对象，因此函数中，也可以拥有各种属性。

### 包装类

ES 为了增强原始类型的功能，为 boolean、string、number 分别创建了一个构造函数。

- Boolean
- String
- Number

如果语法上，将原始类型当作对象使用时（一般是在使用属性时），ES 会自动在该位置利用对应的构造函数，创建对象来访问原始类型的属性。

说得再直接一点就是，我们都知道，原始类型和引用类型，只有引用类型才有属性，而原始类型是没有属性的。但是，当我们尝试在一个原始类型的数据身上访问属性，有些时候我们却是可以访问到的。这就是包装类在帮我们处理。

下面来看几个示例：

```js
"hello world".length; // => 11
// 等效于 => new String("hello world").length;
```

显然，字符串 `"hello world"`，它就是一个普通的不能再普通的原始类型了，它身上是不可能有啥属性的，但是，我们访问 length 属性时，却没有报错，而且确实获取到了字符串的长度 11。

其实，当我们从 `"hello world"` 身上访问属性时，ES 在内部就帮我们做了处理，调用了字符串的构造函数 String，并将字符串 `"hello world"` 作为其参数传入，临时创建出了一个“字符串”对象，我们实际访问的就是这个临时的“字符串”对象身上的 length 属性。（当我们访问完后，这个被临时创建出来的对象就立刻被销毁了）

```js
3.1415926535.toFixed(2) // 3.14
// 等价 => new Number(3.1415926535).toFixed(2)
```

### Java中的“类”和ES中的构造函数

在学习 Java 时，有“类”的概念。它就好比ES中的构造函数。

### 实例方法和静态方法

成员属性（方法）、实例属性（方法）：表示该属性是通过构造函数创建的对象调用的。

静态属性（方法）、类属性（方法）：表示该属性是通过构造函数本身调用的。
