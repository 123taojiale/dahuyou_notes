## 3-4. 自增和自减

- `++`、`--`
  - 自增和自减是一元运算符；
  - ++：将某个变量的值自增1
  - --：将某个变量的值自减1
  - 前置、后置
    - `x++`：将变量x自增1，得到的表达式的值是自增之前的值。
    - `++x`：将变量x自增1，得到的表达式的值是自增之后的值。
    - `x--`：将变量x自减1，得到的表达式的值是自减之前的值。
    - `--x`：将变量x自减1，得到的表达式的值是自减之后的值。
- （已学过的）运算符的优先级，从高到底依次是：
  - `++`、`--`
  - `*`、`/`、`%`
  - `+`、`-`
- 优先级的运算细节：
  - 从左到右依次查看
  - 如果遇到操作数，将数据的值直接取出
  - 如果遇到相邻的两个运算符，并且左边的运算符优先级大于等于右边的运算符，则直接运行左边的运算符。

- [x] 优先级的运算细节

```js
var x = 1;
var y = x + x++ * ++x; // 1 + 1 * 3
console.log(y); // 4

/* 过程分析:
1. x ==> 1
y = 1 + x++ * ++x; // 从左到右依次查看,遇到了第一个操作数 x ==> 1 将数据的值直接取出;
2. x ==> 1
y = 1 + 1 * ++x; // 第1次遇到两个相邻的运算符 [左边]+ 小于 [右边]++ ; 继续往后查看; 第2次遇到两个相邻的运算符 [左边]++ 的优先级 大于 [右边]* 的优先级; 直接运行左边的运算符 ++ ==> 执行 x++ ==> 得到表达式的值是自增之前的值 1
3. x ==> 2
y = 1 + 1 * 3; // 第1次遇到两个相邻的运算符 [左边]+ 小于 [右边]* ; 继续往后查看; 第2次遇到两个相邻的运算符 [左边]* 的优先级 小于 [右边]++ 的优先级; 因为无法再往后继续查看,所以直接运行右边的运算符 ++ ==> 执行 ++x ==> 得到表达式的值是自增之后的值 3
4. x ==> 3
y = 1 + 3; // 第1次遇到两个相邻的运算符 [左边]+ 小于 [右边]* ; 继续往后查看; 第2次遇到两个相邻的运算符 [左边]+ 的优先级 小于 [右边]* 的优先级; 因为无法再往后继续查看,所以直接运行右边的运算符 * ==> 执行 1 * 3 ==> 得到表达式的返回值是 3
5. y = 4; // 最后将赋值符号右边的最终结果 4 赋值为变量 y
*/
```

案例中的 `++x` 和 `x++` 都是表达式，不能视作操作数直接将数据取出，而且，表达式的返回值也并非自变量的值；

- [x] 练习1

```js
var x = 1;
var y = x++ + ++x + x++ * ++x + ++x; // 1 + 3 + 3 * 5 + 6
console.log(y); // 25
```

- [x] 练习2

```js
var x = 1;
var y = x + ++x * ++x + x; // 1 + 2 * 3 + 3
console.log(y); // 10
```

- [x] 练习3

```js
var x = 1;
var y = x + x++ * (x = x + x++ * ++x) + x; // 1 + 1 * (x = 2 + 2 * 4) + 10
console.log(y); // 21
```