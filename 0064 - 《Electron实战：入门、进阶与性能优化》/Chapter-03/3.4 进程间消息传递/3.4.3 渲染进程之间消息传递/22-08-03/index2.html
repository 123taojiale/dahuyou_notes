<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3.4.3 渲染进程之间消息传递</title>
</head>

<body>
  <h1>窗口2</h1>
  <button id="btn">给窗口1发送消息</button>

  <script>
    const {
      ipcRenderer
    } = require('electron')
    document.getElementById('btn').addEventListener('click', async () => {
      const win1ID = await ipcRenderer.invoke('getWin1ID')
      console.log('获取到窗口1的id：', win1ID, '并给它发送消息')
      ipcRenderer.sendTo(win1ID, 'index2_to_index1', 3, 4)
    })
    ipcRenderer.on('index1_to_index2', (e, a, b) => {
      console.log('窗口2 收到了 窗口1 发送来的消息')
      console.log('发送者「窗口1」的 id 为：', e.senderId)
      console.log('参数为：', a, b)
    })
  </script>
</body>

</html>