<template>
  <div id="app">
    <p>
      <button @click="curIndex = (curIndex + 1) % comps.length">
        switch
      </button>
    </p>
    <keep-alive>
      <component :is="comps[curIndex]"></component>
    </keep-alive>
  </div>
</template>

<script>
// è¿™ 3 ä¸ªç»„ä»¶ï¼Œæ— éœ€æ³¨å†Œå³å¯ä½¿ç”¨ï¼Œå®ƒä»¬å°†é€šè¿‡ component å†…ç½®ç»„ä»¶æ¥æ¸²æŸ“
import Comp1 from './components/Comp1';
import Comp2 from './components/Comp2';
import Comp3 from './components/Comp3';
export default {
  data() {
    return {
      comps: Object.freeze([Comp1, Comp2, Comp3]),
      curIndex: 0,
    };
  },
};
/*
ä½¿ç”¨ component è¿™ä¸ªå†…ç½®ç»„ä»¶ï¼ŒåŠ¨æ€åœ°åˆ‡æ¢ Comp1ã€Comp2ã€Comp3 è¿™ 3 ä¸ªç»„ä»¶çš„æ˜¾ç¤º/éšè—ï¼Œä¼šå‘ç°è¿™ç§å†™æ³•ï¼Œå‹æ ¹å°±ä¸éœ€è¦åœ¨ components å­—æ®µä¸­æ³¨å†Œè¿™ä¸‰ä¸ªç»„ä»¶å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ Object.freeze()

å› ä¸ºè¿™ 3 ä¸ªç»„ä»¶ï¼Œæ²¡å¿…è¦å°†å…¶è®¾ç½®ä¸ºå“åº”å¼çš„æ•°æ®

Object.freeze([Comp1, Comp2, Comp3])

ç»è¿‡ Object.freeze() åŒ…è£¹ä¹‹åï¼Œvue å°†ä¸ä¼šæŠŠå®ƒä»¬å˜ä¸ºå“åº”å¼æ•°æ®ï¼Œå¤šå°‘èƒ½ä¼˜åŒ–ä¸€ç‚¹æ€§èƒ½ã€‚
*/
</script>

<style>
#app {
  width: 500px;
  margin: 0 auto;
  text-align: center;
}
</style>
